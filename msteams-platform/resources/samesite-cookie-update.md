---
title: Microsoft Teams および SameSite cookie 属性 (2020 更新プログラム)
author: laujan
description: ''
keywords: cookie 属性 samesite
ms.topic: reference
ms.author: lomeybur
ms.openlocfilehash: 167266ba0b5af1c8233cffe1fef496dd94c27ae4
ms.sourcegitcommit: 4329a94918263c85d6c65ff401f571556b80307b
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/01/2020
ms.locfileid: "41674649"
---
# <a name="microsoft-teams-and-the-samesite-cookie-attribute-2020-update"></a><span data-ttu-id="9dc71-103">Microsoft Teams および SameSite cookie 属性 (2020 更新プログラム)</span><span class="sxs-lookup"><span data-stu-id="9dc71-103">Microsoft Teams and the SameSite cookie attribute (2020 update)</span></span>

## <a name="cookies-in-brief"></a><span data-ttu-id="9dc71-104">Cookie の概要</span><span class="sxs-lookup"><span data-stu-id="9dc71-104">Cookies in brief</span></span>

 <span data-ttu-id="9dc71-105">Cookie はテキスト文字列で、web サイトから送信され、web ブラウザーによってコンピューターに保存されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-105">Cookies are text strings, sent from websites, and stored on a computer by the web browser.</span></span> <span data-ttu-id="9dc71-106">通常、認証と個人用設定のために使用されます。たとえば、ステートフル情報を呼び戻す、ユーザー設定を保持する、レコーディング参照アクティビティを記録し、関連する広告を表示します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-106">They're typically used for authentication and personalization, e.g., recalling stateful information, preserving user settings, recording browsing activity, and displaying relevant ads.</span></span> <span data-ttu-id="9dc71-107">Cookie は常に特定のドメインにリンクされており、さまざまな関係者がインストールできます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-107">Cookies are always linked to a particular domain and can be installed by various parties.</span></span> <span data-ttu-id="9dc71-108">これらは次のように分類されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-108">They are categorized as follows:</span></span>

 |<span data-ttu-id="9dc71-109">クッキー</span><span class="sxs-lookup"><span data-stu-id="9dc71-109">Cookie</span></span>|<span data-ttu-id="9dc71-110">範囲</span><span class="sxs-lookup"><span data-stu-id="9dc71-110">Scope</span></span>|
 | ------ | ------ |
 |<span data-ttu-id="9dc71-111">**ファーストパーティの cookie**</span><span class="sxs-lookup"><span data-stu-id="9dc71-111">**First-party cookie**</span></span>|<span data-ttu-id="9dc71-112">ファーストパーティの cookie は、ユーザーが訪問して、ショッピングカートアイテム、ログイン資格情報 (認証 cookie など)、その他の分析などのデータを保存するために使用される web サイトによって作成されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-112">A first-party cookie is created by websites that a user visits and is used to save data such as shopping cart items, login credentials (e.g., authentication cookies), and other analytics.</span></span>|
 |<span data-ttu-id="9dc71-113">**セカンドパーティの cookie**</span><span class="sxs-lookup"><span data-stu-id="9dc71-113">**Second-party cookie**</span></span>|<span data-ttu-id="9dc71-114">2番目の cookie は、技術的には、最初のパーティの cookie と同じです。</span><span class="sxs-lookup"><span data-stu-id="9dc71-114">A second-party cookies is technically the same as a first-party  cookie.</span></span> <span data-ttu-id="9dc71-115">その違いは、データがデータパートナーシップ契約 (たとえば、 [Microsoft Teams の分析とレポート](/microsoftteams/teams-analytics-and-reports/teams-reporting-reference)) を介して、2番目のパーティと共有されることです。</span><span class="sxs-lookup"><span data-stu-id="9dc71-115">The difference is that data is shared with a second party via a data partnership agreement (e.g., [Microsoft Teams analytics and reporting](/microsoftteams/teams-analytics-and-reports/teams-reporting-reference)).</span></span> |
 |<span data-ttu-id="9dc71-116">**サードパーティの cookie**</span><span class="sxs-lookup"><span data-stu-id="9dc71-116">**Third-party cookie**</span></span>|<span data-ttu-id="9dc71-117">サードパーティの cookie は、ユーザーが明示的にアクセスしたドメイン以外のドメインによってインストールされ、主に追跡 (たとえば、"Like" ボタン)、広告サービス、ライブチャットなどに使用されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-117">A third-party cookie is installed by a domain other than the one the user explicitly visited and is mainly used for tracking (e.g. "Like" buttons), ad serving, and live chats.</span></span>|

### <a name="cookies-and-http-requests"></a><span data-ttu-id="9dc71-118">Cookie と HTTP 要求</span><span class="sxs-lookup"><span data-stu-id="9dc71-118">Cookies and HTTP requests</span></span>

<span data-ttu-id="9dc71-119">SameSite の制限を導入する前に、cookie がブラウザーに格納されている場合、cookie は*すべて*の http web 要求に添付され、COOKIE の http 応答ヘッダーによってサーバーに送信されていました。</span><span class="sxs-lookup"><span data-stu-id="9dc71-119">Before the introduction of SameSite restrictions, when cookies were stored on the browser, they were attached to *every* HTTP web request and sent to the server by the Set-Cookie HTTP response header.</span></span> <span data-ttu-id="9dc71-120">予測可能なパフォーマンスによって、クロスサイト要求偽造 (CSRF) 攻撃などのセキュリティ脆弱性が生じる可能性がありました。</span><span class="sxs-lookup"><span data-stu-id="9dc71-120">Predictably, that performance had the potential to introduce security vulnerabilities such as Cross-Site Request Forgery (CSRF) attacks.</span></span> <span data-ttu-id="9dc71-121">「 [HTTP Cookie](https://developer.mozilla.org/docs/Web/HTTP/Cookies) *」を参照してください*。</span><span class="sxs-lookup"><span data-stu-id="9dc71-121">*See* [HTTP cookies](https://developer.mozilla.org/docs/Web/HTTP/Cookies).</span></span> <span data-ttu-id="9dc71-122">SameSite コンポーネントは、SetCookie ヘッダーの実装と管理を通じてその露出を軽減します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-122">The SameSite component mitigated that exposure through its implementation and management in the SetCookie header.</span></span>

### <a name="samesite-attribute-initial-release"></a><span data-ttu-id="9dc71-123">SameSite 属性: 最初のリリース</span><span class="sxs-lookup"><span data-stu-id="9dc71-123">SameSite attribute: initial release</span></span>

<span data-ttu-id="9dc71-124">Google Chrome バージョン51では、SetCookie SameSite specification が*オプション*の属性として導入されました。</span><span class="sxs-lookup"><span data-stu-id="9dc71-124">Google Chrome version 51 introduced the SetCookie SameSite specification as an *optional* attribute.</span></span> <span data-ttu-id="9dc71-125">ビルド17672以降、Windows 10 では、 [Microsoft Edge ブラウザー](https://blogs.windows.com/msedgedev/2018/05/17/samesite-cookies-microsoft-edge-internet-explorer/)の SameSite cookie のサポートが導入されました。</span><span class="sxs-lookup"><span data-stu-id="9dc71-125">Starting with Build 17672, Windows 10 introduced SameSite cookie support for the [Microsoft Edge browser](https://blogs.windows.com/msedgedev/2018/05/17/samesite-cookies-microsoft-edge-internet-explorer/).</span></span>

<span data-ttu-id="9dc71-126">開発者は、SameSite cookie 属性を SetCookie ヘッダーに追加しないようにするか、または次の2つの設定のいずれ*かを使用*して追加することが*できます。*</span><span class="sxs-lookup"><span data-stu-id="9dc71-126">Developers could opt out of adding the SameSite cookie attribute to the SetCookie header or they could add it with one of two settings, *Lax* and *Strict*.</span></span> <span data-ttu-id="9dc71-127">未実装の SameSite 属性は既定の状態と見なされました。</span><span class="sxs-lookup"><span data-stu-id="9dc71-127">An unimplemented SameSite attribute was considered the default state.</span></span>

## <a name="samesite-cookie-attribute-2020-release"></a><span data-ttu-id="9dc71-128">SameSite cookie 属性: 2020 リリース</span><span class="sxs-lookup"><span data-stu-id="9dc71-128">SameSite cookie attribute: 2020 release</span></span>

<span data-ttu-id="9dc71-129">Chrome 80 (2 月2020にリリースが予定されています)。新しい cookie の値を紹介し、既定で cookie のポリシーを設定します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-129">Chrome 80, scheduled for release in February 2020, introduces new cookie values and imposes cookie policies by default.</span></span> <span data-ttu-id="9dc71-130">更新された SameSite 属性には、次の3つの値を渡すことができます: *Strict*、*甘い*、または*None*。</span><span class="sxs-lookup"><span data-stu-id="9dc71-130">Three values can be passed into the updated SameSite attribute: *Strict*, *Lax*, or *None*.</span></span> <span data-ttu-id="9dc71-131">SameSite 属性が指定されていない cookie `SameSite=Lax`は、既定ではになります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-131">Cookies that don't specify the SameSite attribute will default to `SameSite=Lax`.</span></span>

|<span data-ttu-id="9dc71-132">Setting</span><span class="sxs-lookup"><span data-stu-id="9dc71-132">Setting</span></span> | <span data-ttu-id="9dc71-133">適用</span><span class="sxs-lookup"><span data-stu-id="9dc71-133">Enforcement</span></span> | <span data-ttu-id="9dc71-134">値</span><span class="sxs-lookup"><span data-stu-id="9dc71-134">Value</span></span> |<span data-ttu-id="9dc71-135">属性の指定</span><span class="sxs-lookup"><span data-stu-id="9dc71-135">Attribute Specification</span></span> |
| -------- | ----------- | --------|--------|
| <span data-ttu-id="9dc71-136">**甘い**</span><span class="sxs-lookup"><span data-stu-id="9dc71-136">**Lax**</span></span>  | <span data-ttu-id="9dc71-137">Cookie は、*最初のパーティ*のコンテキストと HTTP GET 要求でのみ自動的に送信されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-137">Cookies will be sent automatically only in a *first-party* context and with HTTP GET requests.</span></span> <span data-ttu-id="9dc71-138">SameSite cookie は、画像または iframes を読み込む呼び出しなど、クロスサイトサブ要求で送信されますが、ユーザーがリンクをたどって外部サイトから URL に移動するときに送信されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-138">SameSite cookies will be withheld on cross-site sub-requests, such as calls to load images or iframes, but will be sent when a user navigates to the URL from an external site, e.g., by following a link.</span></span>| <span data-ttu-id="9dc71-139">**Default**</span><span class="sxs-lookup"><span data-stu-id="9dc71-139">**Default**</span></span> |`Set-Cookie: key=value; SameSite=Lax`|
| <span data-ttu-id="9dc71-140">**Strict**</span><span class="sxs-lookup"><span data-stu-id="9dc71-140">**Strict**</span></span> |<span data-ttu-id="9dc71-141">ブラウザーは、最初のパーティのコンテキスト要求 (cookie を設定しているサイトからの要求) に対してのみ cookie を送信します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-141">The browser will only send cookies for first-party context requests (requests originating from the site that set the cookie).</span></span> <span data-ttu-id="9dc71-142">要求が現在の場所とは異なる URL から発信された場合、その`Strict`属性でタグ付けされた cookie は送信されません。</span><span class="sxs-lookup"><span data-stu-id="9dc71-142">If the request originated from a different URL than that of the current location, none of the cookies tagged with the `Strict` attribute will be sent.</span></span>| <span data-ttu-id="9dc71-143">オプション</span><span class="sxs-lookup"><span data-stu-id="9dc71-143">Optional</span></span> |`Set-Cookie: key=value; SameSite=Strict`|
| <span data-ttu-id="9dc71-144">**なし**</span><span class="sxs-lookup"><span data-stu-id="9dc71-144">**None**</span></span> | <span data-ttu-id="9dc71-145">Cookie は、最初のパーティのコンテキストと cross-origin 要求の両方で送信されます。ただし、値を明示的に**`None`** 設定する必要があります。また、すべてのブラウザー要求は**`Secure`** **HTTPS プロトコルに従う必要があり**、暗号化された接続を必要とする属性を含んでいる必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-145">Cookies will be sent in both first-party context and cross-origin requests; however, the value must be explicitly set to **`None`** and all browser requests **must follow the HTTPS protocol** and include the **`Secure`** attribute which requires an encrypted connection.</span></span> <span data-ttu-id="9dc71-146">その要件に従わない cookie は**拒否**されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-146">Cookies that don't adhere to that requirement will be **rejected**.</span></span> <br/><span data-ttu-id="9dc71-147">**両方の属性が一緒に必要**です。</span><span class="sxs-lookup"><span data-stu-id="9dc71-147">**Both attributes are required together**.</span></span> <span data-ttu-id="9dc71-148">**`None`** HTTPS プロトコルを使用し**`Secure`** ないで、またはを指定しない場合は、サードパーティの cookie は拒否されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-148">If just **`None`** is specified without **`Secure`**  or if the HTTPS protocol is not used, the third-party cookie will be rejected.</span></span>| <span data-ttu-id="9dc71-149">省略可能。ただし、設定されている場合は、HTTPS プロトコルが必要です。</span><span class="sxs-lookup"><span data-stu-id="9dc71-149">Optional, but, if set, the HTTPS protocol is required.</span></span> |`Set-Cookie: key=value; SameSite=None; Secure` |

## <a name="handling-incompatible-clients"></a><span data-ttu-id="9dc71-150">互換性のないクライアントの処理</span><span class="sxs-lookup"><span data-stu-id="9dc71-150">Handling incompatible clients</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9dc71-151">現在、 `SameSite=None`は[**Teams デスクトップクライアント**](/aspnet/core/security/samesite?view=aspnetcore-3.1#test-with-electron)または以前のバージョンの Chrome または Safari ではサポートされていません。</span><span class="sxs-lookup"><span data-stu-id="9dc71-151">Currently, `SameSite=None`  is not supported by the [**Teams desktop client**](/aspnet/core/security/samesite?view=aspnetcore-3.1#test-with-electron) or older versions of Chrome or Safari.</span></span> <span data-ttu-id="9dc71-152">「[既知の互換性]( https://www.chromium.org/updates/same-site/incompatible-clients)のないクライアント」を*参照してください*。</span><span class="sxs-lookup"><span data-stu-id="9dc71-152">*See* [Known Incompatible Clients]( https://www.chromium.org/updates/same-site/incompatible-clients).</span></span>
><span data-ttu-id="9dc71-153">ただし、次の2つの**回避策**があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-153">However, there are two **workaround solutions**:</span></span>
>
>1. <span data-ttu-id="9dc71-154">適切な SameSite プロパティを指定するには、ユーザーエージェントを確認してください。</span><span class="sxs-lookup"><span data-stu-id="9dc71-154">Check the user-agent in order to provide the correct SameSite property.</span></span> <span data-ttu-id="9dc71-155">ユーザーエージェントチェックは、 [**C#**](https://devblogs.microsoft.com/aspnet/upcoming-samesite-cookie-changes-in-asp-net-and-asp-net-core/)と[**node.js**](https://web.dev/samesite-cookie-recipes/)で実装できます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-155">You can implement the user-agent check in [**C#**](https://devblogs.microsoft.com/aspnet/upcoming-samesite-cookie-changes-in-asp-net-and-asp-net-core/) and [**Node.js**](https://web.dev/samesite-cookie-recipes/).</span></span>
>2. <span data-ttu-id="9dc71-156">新しいモデルと古いモデルの両方を使用して、cookie 属性を設定します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-156">Set your cookie attributes using both the new and old models.</span></span> <span data-ttu-id="9dc71-157">*「* [互換性](https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients)のないクライアントの処理」を参照</span><span class="sxs-lookup"><span data-stu-id="9dc71-157">*See* [Handling incompatible clients](https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients)</span></span><br><br>
><span data-ttu-id="9dc71-158">**アプリが Teams デスクトップクライアントで実行されていて、SameSite 属性をに設定`SameSite=None`している場合、アプリは期待どおりに機能しません。**</span><span class="sxs-lookup"><span data-stu-id="9dc71-158">**If your app is running in the Teams desktop client, and you set the SameSite attribute to `SameSite=None` , your app will not work as expected.**</span></span>

<span data-ttu-id="9dc71-159">どちらの方法を使用しても、Teams デスクトップクライアントが`SameSite=None`互換性のあるバージョンの Chromium にアップグレードされるときに、アプリケーションが正常に動作するようにします。</span><span class="sxs-lookup"><span data-stu-id="9dc71-159">Using either approach will ensure that your application continues to work properly when the Teams desktop client is upgraded to a `SameSite=None`   compatible version of  Chromium.</span></span>

## <a name="teams-implications-and-adjustments"></a><span data-ttu-id="9dc71-160">Teams の影響と調整</span><span class="sxs-lookup"><span data-stu-id="9dc71-160">Teams implications and adjustments</span></span>

>[!WARNING]
><span data-ttu-id="9dc71-161">**Teams デスクトップクライアントで実行されているアプリケーションは`SameSite=None`属性と互換性がないため、正常に動作しません。**</span><span class="sxs-lookup"><span data-stu-id="9dc71-161">**Applications running in the Teams desktop client are incompatible with the `SameSite=None`  attribute, and  they will not work as expected.**</span></span> <span data-ttu-id="9dc71-162">上記の**解決**策を参照してください。</span><span class="sxs-lookup"><span data-stu-id="9dc71-162">Please see the **workaround solutions**, above.</span></span>

1. <span data-ttu-id="9dc71-163">Cookie に関連する SameSite 設定を有効にし、アプリと拡張機能が Teams で引き続き動作することを確認します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-163">Enable the relevant SameSite setting for your cookies and validate that your apps and extensions continue to work in Teams.</span></span>
1. <span data-ttu-id="9dc71-164">アプリまたは拡張機能が失敗した場合は、Chrome 80 リリースより前に、必要な修正を行います。</span><span class="sxs-lookup"><span data-stu-id="9dc71-164">If your apps or extensions fail, make the necessary fixes prior to the Chrome 80 release.</span></span>
1. <span data-ttu-id="9dc71-165">この問題<https://teams.microsoft.com/l/team/19%3A08b594cd465e4c0491fb751e823802e2%40thread.skype/conversations?groupId=4d6d04cd-dbf0-43c8-a2ff-f80dd38be034&tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47>に関する詳細または支援が必要な場合は、Microsoft の内部パートナーは次のチームに参加できます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-165">Microsoft internal partners can join the following team if they need more information or help with this issue: <https://teams.microsoft.com/l/team/19%3A08b594cd465e4c0491fb751e823802e2%40thread.skype/conversations?groupId=4d6d04cd-dbf0-43c8-a2ff-f80dd38be034&tenantId=72f988bf-86f1-41af-91ab-2d7cd011db47>.</span></span>

> [!NOTE]
> <span data-ttu-id="9dc71-166">ベストプラクティスとして、SameSite 属性を常に設定して、cookie の使用目的を反映することをお勧めします。既定のブラウザーの動作に依存しないようにしてください。</span><span class="sxs-lookup"><span data-stu-id="9dc71-166">For best practice, it's recommended that you always set SameSite attributes to reflect the intended use for your cookies — don't rely on default browser behavior.</span></span> <span data-ttu-id="9dc71-167">*「* [開発者: 新しい SameSite の準備」を参照してください。セキュリティで保護された Cookie の設定](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html)。</span><span class="sxs-lookup"><span data-stu-id="9dc71-167">*See* [Developers: Get Ready for New SameSite=None; Secure Cookie Settings](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html).</span></span>

### <a name="tabs-task-modules-and-message-extensions"></a><span data-ttu-id="9dc71-168">タブ、タスクモジュール、およびメッセージ拡張機能</span><span class="sxs-lookup"><span data-stu-id="9dc71-168">Tabs, task modules, and message extensions</span></span>

* <span data-ttu-id="9dc71-169">Teams タブは`<iframes>` 、トップレベルまたはファーストパーティのコンテキストで表示されるコンテンツを埋め込むために使用します。</span><span class="sxs-lookup"><span data-stu-id="9dc71-169">Teams tabs use `<iframes>` to embed content that is viewed in a top-level or first-party context.</span></span>
* <span data-ttu-id="9dc71-170">タスクモジュールを使用すると、Teams アプリケーションでモーダルポップアップエクスペリエンスを作成できます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-170">Task modules allow you to create modal popup experiences in your Teams application.</span></span> <span data-ttu-id="9dc71-171">タブと同じように、現在のページ内でモーダルウィンドウが開きます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-171">Similar to a tab, a modal window opens inside the current page.</span></span>
* <span data-ttu-id="9dc71-172">メッセージ拡張機能により、外部リソースからチャットメッセージに拡充されたコンテンツを挿入することができます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-172">Message extensions allow you to insert enriched content into chat message from external resources.</span></span>

<span data-ttu-id="9dc71-173">埋め込みコンテンツによって使用されるすべての cookie は、サイトがに表示さ`<iframe>`れるときに、サードパーティと見なされます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-173">Any cookies used by embedded content will be considered third-party when the site is displayed in an `<iframe>`.</span></span> <span data-ttu-id="9dc71-174">さらに、ページ上のリモートリソースが要求 (たとえば、 `<img>` `<script>`タグ、外部フォント、個人用コンテンツ) と共に送信される cookie を使用している場合は、それらのリソースがクロスサイト使用`SameSite=None; Secure`のためにマークされていることを確認する必要があります。または、フォールバックが行われていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-174">In addition, if any remote resources on a page rely on cookies being sent with a request (e.g., `<img>` and `<script>` tags, external fonts, and personalized content) you'll need to ensure those are marked for cross-site usage — `SameSite=None; Secure` — or ensure that a fallback is in place.</span></span>

### <a name="authentication"></a><span data-ttu-id="9dc71-175">認証</span><span class="sxs-lookup"><span data-stu-id="9dc71-175">Authentication</span></span>

* <span data-ttu-id="9dc71-176">タブ内の埋め込みコンテンツページの認証を必要とする場合は、web ベースの認証フローを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-176">If you require authentication for embedded content pages in tabs, you'll need to use the web-based authentication flow.</span></span>
* <span data-ttu-id="9dc71-177">Web ベースの認証フローは、構成ページ、タスクモジュール、またはメッセージング拡張機能にも使用できます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-177">A web-based authentication flow can also be used for a configuration page, task module, or messaging extension.</span></span>
* <span data-ttu-id="9dc71-178">会話 bot に対して web ベースの認証フローを使用して、タスクモジュールを使用する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-178">You can use  a web-based authentication flow for a conversational bot you'll need to use a task module.</span></span>

<span data-ttu-id="9dc71-179">更新された SameSite 制限に従って、リンクが外部サイトから派生している場合、ブラウザーは既に認証された web サイトに cookie を追加しません。</span><span class="sxs-lookup"><span data-stu-id="9dc71-179">Pursuant to the updated SameSite restrictions, a browser will not add a cookie to an already authenticated web site if the link derives from an external site.</span></span> <span data-ttu-id="9dc71-180">認証 cookie がクロスサイト使用`SameSite=None; Secure`のためにマークされていることを確認する必要があります。または、フォールバックが行われていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-180">You'll need to ensure your authentication cookies are marked for cross-site usage — `SameSite=None; Secure` — or ensure that a fallback is in place.</span></span>

### <a name="android-system-webview"></a><span data-ttu-id="9dc71-181">Android システムの WebView</span><span class="sxs-lookup"><span data-stu-id="9dc71-181">Android System WebView</span></span>

<span data-ttu-id="9dc71-182">Android WebView は、Android アプリで web コンテンツを表示できるようにするクロムシステムコンポーネントです。</span><span class="sxs-lookup"><span data-stu-id="9dc71-182">Android WebView is a Chrome system component that allows Android apps to display web content.</span></span> <span data-ttu-id="9dc71-183">新しい制限は、Chrome 80 以降の既定値になりますが、WebViews ですぐに適用されることはありません。</span><span class="sxs-lookup"><span data-stu-id="9dc71-183">While the new restrictions will become the default, starting with Chrome 80, they will not be immediately enforced on WebViews.</span></span> <span data-ttu-id="9dc71-184">これらは将来適用されます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-184">They will be applied in the future.</span></span> <span data-ttu-id="9dc71-185">準備するために、Android はネイティブアプリで[COOKEMANAGER API](https://developer.android.com/reference/android/webkit/CookieManager)を使用して直接 cookie を設定できます。</span><span class="sxs-lookup"><span data-stu-id="9dc71-185">To prepare, Android allows native apps to set cookies directly via the [CookeManager API](https://developer.android.com/reference/android/webkit/CookieManager):</span></span>

* <span data-ttu-id="9dc71-186">最初のパーティのコンテキストでのみ必要な cookie の場合は、必要に応じて`SameSite=Lax` 、 `SameSite=Strict`またはとして宣言する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-186">For cookies that are only needed in a first-party context, you should declare them as `SameSite=Lax` or `SameSite=Strict`, as appropriate.</span></span>
* <span data-ttu-id="9dc71-187">サードパーティのコンテキストで必要な cookie の場合は、がとして`SameSite=None; Secure`宣言されていることを確認する必要があります。</span><span class="sxs-lookup"><span data-stu-id="9dc71-187">For cookies needed in a third-party context, you should ensure that they are declared as `SameSite=None; Secure`.</span></span>

## <a name="learn-more"></a><span data-ttu-id="9dc71-188">詳細情報</span><span class="sxs-lookup"><span data-stu-id="9dc71-188">Learn more</span></span>

[<span data-ttu-id="9dc71-189">SameSite の例</span><span class="sxs-lookup"><span data-stu-id="9dc71-189">SameSite examples</span></span>](https://github.com/GoogleChromeLabs/samesite-examples)

[<span data-ttu-id="9dc71-190">SameSite cookie レシピ</span><span class="sxs-lookup"><span data-stu-id="9dc71-190">SameSite cookie recipes</span></span>](https://web.dev/samesite-cookie-recipes/)

[<span data-ttu-id="9dc71-191">既知の互換性のないクライアント</span><span class="sxs-lookup"><span data-stu-id="9dc71-191">Known Incompatible Clients</span></span>]( https://www.chromium.org/updates/same-site/incompatible-clients)

[<span data-ttu-id="9dc71-192">開発者: 新しい SameSite の準備をします。セキュリティで保護された Cookie の設定</span><span class="sxs-lookup"><span data-stu-id="9dc71-192">Developers: Get Ready for New SameSite=None; Secure Cookie Settings</span></span>](https://blog.chromium.org/2019/10/developers-get-ready-for-new.html)

<span data-ttu-id="9dc71-193">**OpenId Connect への影響**</span><span class="sxs-lookup"><span data-stu-id="9dc71-193">**OpenId Connect impact**</span></span><br>
[<span data-ttu-id="9dc71-194">ASP.NET および ASP.NET Core での今後の SameSite Cookie の変更</span><span class="sxs-lookup"><span data-stu-id="9dc71-194">Upcoming SameSite Cookie Changes in ASP.NET and ASP.NET Core</span></span>](https://devblogs.microsoft.com/aspnet/upcoming-samesite-cookie-changes-in-asp-net-and-asp-net-core/)
