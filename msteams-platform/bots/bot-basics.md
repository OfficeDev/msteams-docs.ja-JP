---
title: ボットの基本
author: clearab
description: Teams のボットの基本について理解します。
ms.topic: conceptual
ms.author: anclear
ms.openlocfilehash: 3c4e707fa4677c2441f348e8d09ecf4428ef1296
ms.sourcegitcommit: 976e870cc925f61b76c3830ec04ba6e4bdfde32f
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/27/2021
ms.locfileid: "50014503"
---
# <a name="bot-basics"></a><span data-ttu-id="fa2c2-103">ボットの基本</span><span class="sxs-lookup"><span data-stu-id="fa2c2-103">Bot basics</span></span>

<span data-ttu-id="fa2c2-104">このドキュメントでは、Bot Framework のコア ドキュメントでボットがどのように機能する[](https://aka.ms/how-bots-work)のかという記事に基を組み込む Microsoft Teams のボットの概要[について説明します](https://aka.ms/azure-bot-service-docs)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-104">This document provides an introduction to bots in Microsoft Teams that builds on the article [How bots work](https://aka.ms/how-bots-work) in the core [Bot Framework documentation](https://aka.ms/azure-bot-service-docs).</span></span> <span data-ttu-id="fa2c2-105">Microsoft Teams 用に開発されたボットと主要な Bot Framework の主な違いは、Teams で提供される機能です。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-105">The primary difference between bots developed for Microsoft Teams and the core Bot Framework is in the features provided in Teams.</span></span>

## <a name="teams-activity-handlers"></a><span data-ttu-id="fa2c2-106">Teams アクティビティ ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-106">Teams activity handlers</span></span>

<span data-ttu-id="fa2c2-107">Teams アクティビティ ハンドラーは、Microsoft Bot Framework のアクティビティ ハンドラーから派生します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-107">Teams activity handler is derived from Microsoft Bot Framework's activity handler.</span></span> <span data-ttu-id="fa2c2-108">Teams 以外の特定のアクティビティの処理を許可する前に、すべての Teams アクティビティをルーティングします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-108">It routes all Teams activities before allowing any non-Teams specific activities to be handled.</span></span>

<span data-ttu-id="fa2c2-109">Teams のボットがアクティビティを受信すると、アクティビティ ハンドラーに *指示されます*。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-109">When a bot for Teams receives an activity, it is directed to the *activity handlers*.</span></span> <span data-ttu-id="fa2c2-110">すべてのアクティビティは、ターン ハンドラーと呼ばれる 1 つの基本ハンドラーを介 *してルーティングされます*。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-110">All activities are routed through one base handler called the *turn handler*.</span></span> <span data-ttu-id="fa2c2-111">ターン *ハンドラーは、受信* したアクティビティを管理するために必要なアクティビティ ハンドラーを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-111">The *turn handler* calls the required activity handler to manage any activity received.</span></span> <span data-ttu-id="fa2c2-112">Teams ボットは、Bot Framework のクラスから派生したクラス `TeamsActivityHandler` から派生 `ActivityHandler` します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-112">The Teams bot is derived from `TeamsActivityHandler` class, which is derived from the Bot Framework's `ActivityHandler` class.</span></span>

# <a name="c"></a>[<span data-ttu-id="fa2c2-113">C#</span><span class="sxs-lookup"><span data-stu-id="fa2c2-113">C#</span></span>](#tab/csharp)

<span data-ttu-id="fa2c2-114">ボットは Bot Framework を使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-114">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="fa2c2-115">ボットがメッセージ アクティビティを受信すると、ターン ハンドラーはその受信アクティビティの通知を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-115">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="fa2c2-116">次に、ターン ハンドラーは受信アクティビティをアクティビティ ハンドラーに `OnMessageActivityAsync` 送信します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-116">The turn handler then sends the incoming activity to the `OnMessageActivityAsync` activity handler.</span></span> <span data-ttu-id="fa2c2-117">Teams では、この機能は変わりません。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-117">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="fa2c2-118">ボットが会話の更新アクティビティを受信すると、ターン ハンドラーはその受信アクティビティの通知を受け取り、着信アクティビティを送信します `OnConversationUpdateActivityAsync` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-118">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `OnConversationUpdateActivityAsync`.</span></span> <span data-ttu-id="fa2c2-119">Teams アクティビティ ハンドラーは、最初に Teams 固有のイベントをチェックします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-119">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="fa2c2-120">イベントが見つからない場合は、それらを Bot Framework のアクティビティ ハンドラーに渡します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-120">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="fa2c2-121">Teams アクティビティ ハンドラー クラスには、2 つの主要な Teams アクティビティ ハンドラーと `OnConversationUpdateActivityAsync` `OnInvokeActivityAsync` .</span><span class="sxs-lookup"><span data-stu-id="fa2c2-121">In the Teams activity handler class, there are two primary Teams activity handlers, `OnConversationUpdateActivityAsync` and `OnInvokeActivityAsync`.</span></span> <span data-ttu-id="fa2c2-122">`OnConversationUpdateActivityAsync` すべての会話更新アクティビティをルーティングし、 `OnInvokeActivityAsync` すべての Teams 呼び出しアクティビティをルーティングします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-122">`OnConversationUpdateActivityAsync` routes all conversation update activities and `OnInvokeActivityAsync` routes all Teams invoke activities.</span></span>

<span data-ttu-id="fa2c2-123">Teams 固有のアクティビティ ハンドラーのロジックを実装するには、ボットのロジック セクションに示すように、ボットのメソッドを [オーバーライドする必要](#bot-logic) があります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-123">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="fa2c2-124">これらのハンドラーの基本実装は何も行うので、オーバーライドで必要なロジックを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-124">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

# <a name="javascript"></a>[<span data-ttu-id="fa2c2-125">JavaScript</span><span class="sxs-lookup"><span data-stu-id="fa2c2-125">JavaScript</span></span>](#tab/javascript)

<span data-ttu-id="fa2c2-126">ボットは Bot Framework を使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-126">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="fa2c2-127">ボットがメッセージ アクティビティを受信すると、ターン ハンドラーはその受信アクティビティの通知を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-127">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="fa2c2-128">次に、ターン ハンドラーは受信アクティビティをアクティビティ ハンドラーに `onMessage` 送信します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-128">The turn handler then sends the incoming activity to the `onMessage` activity handler.</span></span> <span data-ttu-id="fa2c2-129">Teams では、この機能は変わりません。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-129">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="fa2c2-130">ボットが会話の更新アクティビティを受信すると、ターン ハンドラーはその受信アクティビティの通知を受け取り、着信アクティビティを送信します `dispatchConversationUpdateActivity` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-130">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `dispatchConversationUpdateActivity`.</span></span> <span data-ttu-id="fa2c2-131">Teams アクティビティ ハンドラーは、最初に Teams 固有のイベントをチェックします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-131">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="fa2c2-132">イベントが見つからない場合は、それらを Bot Framework のアクティビティ ハンドラーに渡します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-132">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="fa2c2-133">Teams アクティビティ ハンドラー クラスには、2 つの主要な Teams アクティビティ ハンドラーと `dispatchConversationUpdateActivity` `onInvokeActivity` .</span><span class="sxs-lookup"><span data-stu-id="fa2c2-133">In the Teams activity handler class, there are two primary Teams activity handlers, `dispatchConversationUpdateActivity` and `onInvokeActivity`.</span></span> <span data-ttu-id="fa2c2-134">`dispatchConversationUpdateActivity` すべての会話更新アクティビティをルーティングし、 `onInvokeActivity` すべての Teams 呼び出しアクティビティをルーティングします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-134">`dispatchConversationUpdateActivity` routes all conversation update activities and `onInvokeActivity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="fa2c2-135">Teams 固有のアクティビティ ハンドラーのロジックを実装するには、ボットのロジック セクションに示すように、ボットのメソッドを [オーバーライドする必要](#bot-logic) があります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-135">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="fa2c2-136">これらのハンドラーのボット ロジックを定義し、 **最後に `next()` 必ず呼び出してください**。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-136">Define your bot logic for these handlers, then **be sure to call `next()` at the end**.</span></span> <span data-ttu-id="fa2c2-137">呼び `next()` 出すことによって、次のハンドラーが実行されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-137">By calling `next()` you ensure that the next handler runs.</span></span>

# <a name="python"></a>[<span data-ttu-id="fa2c2-138">Python</span><span class="sxs-lookup"><span data-stu-id="fa2c2-138">Python</span></span>](#tab/python)

<span data-ttu-id="fa2c2-139">ボットは Bot Framework を使用して作成されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-139">Bots are created using the Bot Framework.</span></span> <span data-ttu-id="fa2c2-140">ボットがメッセージ アクティビティを受信すると、ターン ハンドラーはその受信アクティビティの通知を受け取ります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-140">If the bots receive a message activity, then the turn handler receives a notification of that incoming activity.</span></span> <span data-ttu-id="fa2c2-141">次に、ターン ハンドラーは受信アクティビティをアクティビティ ハンドラーに `on_message_activity` 送信します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-141">The turn handler then sends the incoming activity to the `on_message_activity` activity handler.</span></span> <span data-ttu-id="fa2c2-142">Teams では、この機能は変わりません。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-142">In Teams, this functionality remains the same.</span></span> <span data-ttu-id="fa2c2-143">ボットが会話の更新アクティビティを受信すると、ターン ハンドラーはその受信アクティビティの通知を受け取り、着信アクティビティを送信します `on_conversation_update_activity` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-143">If the bot receives a conversation update activity, then the turn handler receives a notification of that incoming activity and sends the incoming activity to `on_conversation_update_activity`.</span></span> <span data-ttu-id="fa2c2-144">Teams アクティビティ ハンドラーは、最初に Teams 固有のイベントをチェックします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-144">The Teams activity handler first checks for any Teams specific events.</span></span> <span data-ttu-id="fa2c2-145">イベントが見つからない場合は、それらを Bot Framework のアクティビティ ハンドラーに渡します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-145">If no events are found, it then passes them along to the Bot Framework's activity handler.</span></span>

<span data-ttu-id="fa2c2-146">Teams アクティビティ ハンドラー クラスには、2 つの主要な Teams アクティビティ ハンドラーと `on_conversation_update_activity` `on_invoke_activity` .</span><span class="sxs-lookup"><span data-stu-id="fa2c2-146">In the Teams activity handler class, there are two primary Teams activity handlers, `on_conversation_update_activity` and `on_invoke_activity`.</span></span> <span data-ttu-id="fa2c2-147">`on_conversation_update_activity` すべての会話更新アクティビティをルーティングし、 `on_invoke_activity` すべての Teams 呼び出しアクティビティをルーティングします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-147">`on_conversation_update_activity` routes all conversation update activities and `on_invoke_activity` routes all Teams invoke activities.</span></span>

<span data-ttu-id="fa2c2-148">Teams 固有のアクティビティ ハンドラーのロジックを実装するには、ボットのロジック セクションに示すように、ボットのメソッドを [オーバーライドする必要](#bot-logic) があります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-148">To implement your logic for Teams specific activity handlers, you must override the methods in your bot as shown in the [Bot logic](#bot-logic) section.</span></span> <span data-ttu-id="fa2c2-149">これらのハンドラーの基本実装は何も行うので、オーバーライドで必要なロジックを追加する必要があります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-149">There is no base implementation for these handlers, therefore, you must add the logic that you want in your override.</span></span>

---

## <a name="bot-logic"></a><span data-ttu-id="fa2c2-150">ボット ロジック</span><span class="sxs-lookup"><span data-stu-id="fa2c2-150">Bot logic</span></span>

<span data-ttu-id="fa2c2-151">ボット ロジックは、1 つ以上のボット チャネルからの受信アクティビティを処理し、応答で送信アクティビティを生成します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-151">The bot logic processes incoming activities from one or more of your bot channels and in response generates outgoing activities.</span></span> <span data-ttu-id="fa2c2-152">これは、最初に Teams アクティビティをチェックする Teams アクティビティ ハンドラー クラスから派生したボットにも当てはまる場合です。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-152">This is still true of bots derived from the Teams activity handler class, which first checks for Teams activities.</span></span> <span data-ttu-id="fa2c2-153">Teams アクティビティを確認すると、その他のすべてのアクティビティが Bot Framework のアクティビティ ハンドラーに渡されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-153">After checking for Teams activities, it passes all other activities to the Bot Framework's activity handler.</span></span>

# <a name="c"></a>[<span data-ttu-id="fa2c2-154">C#</span><span class="sxs-lookup"><span data-stu-id="fa2c2-154">C#</span></span>](#tab/csharp)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="fa2c2-155">コア Bot Framework ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-155">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="fa2c2-156">追加および *削除された* メンバーのアクティビティを除き、このセクションで説明するアクティビティ ハンドラーはすべて、Teams 以外のボットの場合と同様に引き続き動作します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-156">Except for the *added* and *removed* members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="fa2c2-157">アクティビティ ハンドラーは、メッセージ スレッドの代わりに新しいメンバーがチームに追加されるチームのコンテキストでは異なります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-157">Activity handlers are different in context of a team, where a new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="fa2c2-158">定義されているハンドラーの一覧は `ActivityHandler` 次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-158">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="fa2c2-159">イベント</span><span class="sxs-lookup"><span data-stu-id="fa2c2-159">Event</span></span> | <span data-ttu-id="fa2c2-160">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-160">Handler</span></span> | <span data-ttu-id="fa2c2-161">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-161">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="fa2c2-162">受信したアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-162">Any activity type received</span></span> | `OnTurnAsync` | <span data-ttu-id="fa2c2-163">このメソッドは、受信したアクティビティの種類に基づいて、他のハンドラーの 1 つを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-163">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="fa2c2-164">受信したメッセージ アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-164">Message activity received</span></span> | `OnMessageActivityAsync` | <span data-ttu-id="fa2c2-165">このメソッドは、アクティビティを処理するためにオーバーライド `Message` できます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-165">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="fa2c2-166">受信した会話の更新アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-166">Conversation update activity received</span></span> | `OnConversationUpdateActivityAsync` | <span data-ttu-id="fa2c2-167">このメソッドは、ボット以外のメンバーがアクティビティで会話に参加または会話から出た場合にハンドラーを呼び出 `ConversationUpdate` します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-167">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="fa2c2-168">ボット以外のメンバーが会話に参加しました</span><span class="sxs-lookup"><span data-stu-id="fa2c2-168">Non-bot members joined the conversation</span></span> | `OnMembersAddedAsync` | <span data-ttu-id="fa2c2-169">このメソッドは、会話に参加するメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-169">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="fa2c2-170">ボット以外のメンバーが会話を離した</span><span class="sxs-lookup"><span data-stu-id="fa2c2-170">Non-bot members left the conversation</span></span> | `OnMembersRemovedAsync` | <span data-ttu-id="fa2c2-171">このメソッドは、会話を離れるメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-171">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="fa2c2-172">受信したイベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-172">Event activity received</span></span> | `OnEventActivityAsync` | <span data-ttu-id="fa2c2-173">このメソッドは、アクティビティのイベントの種類に固有のハンドラーを呼び出 `Event` します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-173">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="fa2c2-174">受信したトークン応答イベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-174">Token-response event activity received</span></span> | `OnTokenResponseEventAsync` | <span data-ttu-id="fa2c2-175">このメソッドは、トークン応答イベントを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-175">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="fa2c2-176">受信した非トークン応答イベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-176">Non-token-response event activity received</span></span> | `OnEventAsync` | <span data-ttu-id="fa2c2-177">このメソッドは、他の種類のイベントを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-177">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="fa2c2-178">受信したその他のアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-178">Other activity type received</span></span> | `OnUnrecognizedActivityTypeAsync` | <span data-ttu-id="fa2c2-179">このメソッドはオーバーライドして、それ以外の場合は未処理のアクティビティの種類を処理できます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-179">This method can be overridden to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="fa2c2-180">Teams 固有のアクティビティ ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-180">Teams specific activity handlers</span></span>

<span data-ttu-id="fa2c2-181">コア Bot Framework ハンドラー セクションのハンドラーの一覧を `TeamsActivityHandler` 拡張し、次の項目を含める。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-181">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="fa2c2-182">イベント</span><span class="sxs-lookup"><span data-stu-id="fa2c2-182">Event</span></span> | <span data-ttu-id="fa2c2-183">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-183">Handler</span></span> | <span data-ttu-id="fa2c2-184">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-184">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="fa2c2-185">channelCreated</span><span class="sxs-lookup"><span data-stu-id="fa2c2-185">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="fa2c2-186">このメソッドは、作成中の Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-186">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="fa2c2-187">詳細については、「会話の更新[イベントで作成された](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created)[チャネル」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-187">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="fa2c2-188">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="fa2c2-188">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="fa2c2-189">このメソッドは、削除される Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-189">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="fa2c2-190">詳細については、「会話の更新[イベントで削除されたチャネル](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted)[」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-190">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-191">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="fa2c2-191">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="fa2c2-192">このメソッドは、名前を変更する Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-192">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="fa2c2-193">詳細については、会話の更新[イベントでチャネルの名前が変更](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed)[されたを参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-193">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-194">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="fa2c2-194">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="fa2c2-195">`return Task.CompletedTask;` このメソッドは、名前を変更する Teams チームを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-195">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="fa2c2-196">詳細については、会話の更新 [イベントでチームの名前が](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) 変更 [されたを参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-196">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-197">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="fa2c2-197">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="fa2c2-198">このメソッドは、次のメソッド `OnMembersAddedAsync` を呼び出します `ActivityHandler` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-198">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="fa2c2-199">このメソッドは、チームに参加するメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-199">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="fa2c2-200">詳細については、「会話の更新 [イベントで追加された](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) チーム メンバー [」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-200">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-201">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="fa2c2-201">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="fa2c2-202">このメソッドは、次のメソッド `OnMembersRemovedAsync` を呼び出します `ActivityHandler` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-202">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="fa2c2-203">このメソッドは、チームから離れるメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-203">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="fa2c2-204">詳細については、「会話の更新 [イベントで削除されたチーム メンバー](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) [」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-204">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="fa2c2-205">Teams がアクティビティを呼び出す</span><span class="sxs-lookup"><span data-stu-id="fa2c2-205">Teams invoke activities</span></span>

<span data-ttu-id="fa2c2-206">Teams アクティビティ ハンドラーから呼び出される Teams アクティビティ ハンドラーの `OnInvokeActivityAsync` 一覧は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-206">The list of Teams activity handlers called from the `OnInvokeActivityAsync` Teams activity handler include the following:</span></span>

| <span data-ttu-id="fa2c2-207">呼び出しの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-207">Invoke types</span></span>                    | <span data-ttu-id="fa2c2-208">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-208">Handler</span></span>                              | <span data-ttu-id="fa2c2-209">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-209">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="fa2c2-210">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-210">CardAction.Invoke</span></span>               | `OnTeamsCardActionInvokeAsync`       | <span data-ttu-id="fa2c2-211">このメソッドは、カード アクション呼び出しアクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-211">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-212">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-212">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAcceptAsync`      | <span data-ttu-id="fa2c2-213">このメソッドは、ユーザーがファイル同意カードを受け入れるときに呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-213">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="fa2c2-214">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-214">fileConsent/invoke</span></span>              | `OnTeamsFileConsentAsync`            | <span data-ttu-id="fa2c2-215">このメソッドは、コネクタからファイル同意カードアクティビティを受信すると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-215">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-216">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-216">fileConsent/invoke</span></span>              | `OnTeamsFileConsentDeclineAsync`     | <span data-ttu-id="fa2c2-217">このメソッドは、ユーザーがファイル同意カードを拒否すると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-217">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="fa2c2-218">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="fa2c2-218">actionableMessage/executeAction</span></span> | `OnTeamsO365ConnectorCardActionAsync` | <span data-ttu-id="fa2c2-219">このメソッドは、O365 コネクタ カードアクション アクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-219">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-220">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="fa2c2-220">signin/verifyState</span></span>              | `OnTeamsSigninVerifyStateAsync`      | <span data-ttu-id="fa2c2-221">このメソッドは、サインイン検証状態アクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-221">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-222">task/fetch</span><span class="sxs-lookup"><span data-stu-id="fa2c2-222">task/fetch</span></span>                      | `OnTeamsTaskModuleFetchAsync`        | <span data-ttu-id="fa2c2-223">このメソッドは、タスク モジュールのフェッチ時にロジックを提供するために派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-223">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="fa2c2-224">task/submit</span><span class="sxs-lookup"><span data-stu-id="fa2c2-224">task/submit</span></span>                     | `OnTeamsTaskModuleSubmitAsync`       | <span data-ttu-id="fa2c2-225">このメソッドは、タスク モジュールの送信時にロジックを提供するために派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-225">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="fa2c2-226">このセクションに記載されている起動アクティビティは、Teams の会話ボット用です。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-226">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="fa2c2-227">Bot Framework SDK は、メッセージング拡張機能に固有の呼び出しアクティビティもサポートします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-227">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="fa2c2-228">詳細については、「メッセージング拡張機能 [について」を参照してください](https://aka.ms/azure-bot-what-are-messaging-extensions)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-228">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="javascript"></a>[<span data-ttu-id="fa2c2-229">JavaScript</span><span class="sxs-lookup"><span data-stu-id="fa2c2-229">JavaScript</span></span>](#tab/javascript)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="fa2c2-230">コア Bot Framework ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-230">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="fa2c2-231">追加および *削除された* メンバーのアクティビティを除き、このセクションで説明するアクティビティ ハンドラーはすべて、Teams 以外のボットの場合と同様に引き続き動作します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-231">Except for the *added* and *removed* members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="fa2c2-232">アクティビティ ハンドラーは、新しいメンバーがメッセージ スレッドではなくチームに追加されるチームのコンテキストでは異なります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-232">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="fa2c2-233">定義されているハンドラーの一覧は `ActivityHandler` 次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-233">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="fa2c2-234">イベント</span><span class="sxs-lookup"><span data-stu-id="fa2c2-234">Event</span></span> | <span data-ttu-id="fa2c2-235">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-235">Handler</span></span> | <span data-ttu-id="fa2c2-236">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-236">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="fa2c2-237">受信したアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-237">Any activity type received</span></span> | `onTurn` | <span data-ttu-id="fa2c2-238">このメソッドは、受信したアクティビティの種類に基づいて、他のハンドラーの 1 つを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-238">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="fa2c2-239">受信したメッセージ アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-239">Message activity received</span></span> | `onMessage` | <span data-ttu-id="fa2c2-240">このメソッドは、アクティビティの処理に役立 `Message` ちます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-240">This method helps to handle a `Message` activity.</span></span> |
| <span data-ttu-id="fa2c2-241">受信した会話の更新アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-241">Conversation update activity received</span></span> | `onConversationUpdate` | <span data-ttu-id="fa2c2-242">このメソッドは、ボット以外のメンバーがアクティビティで会話に参加または会話から出た場合にハンドラーを呼び出 `ConversationUpdate` します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-242">This method calls a handler if members other than the bot joined or left the conversation, on a `ConversationUpdate` activity.</span></span> |
| <span data-ttu-id="fa2c2-243">ボット以外のメンバーが会話に参加しました</span><span class="sxs-lookup"><span data-stu-id="fa2c2-243">Non-bot members joined the conversation</span></span> | `onMembersAdded` | <span data-ttu-id="fa2c2-244">このメソッドは、会話に参加するメンバーを処理するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-244">This method helps to handle members joining a conversation.</span></span> |
| <span data-ttu-id="fa2c2-245">ボット以外のメンバーが会話を離した</span><span class="sxs-lookup"><span data-stu-id="fa2c2-245">Non-bot members left the conversation</span></span> | `onMembersRemoved` | <span data-ttu-id="fa2c2-246">このメソッドは、会話を離れるメンバーを処理するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-246">This method helps to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="fa2c2-247">受信したイベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-247">Event activity received</span></span> | `onEvent` | <span data-ttu-id="fa2c2-248">このメソッドは、アクティビティのイベントの種類に固有のハンドラーを呼び出 `Event` します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-248">This method calls a handler specific to the event type, on an `Event` activity.</span></span> |
| <span data-ttu-id="fa2c2-249">受信したトークン応答イベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-249">Token-response event activity received</span></span> | `onTokenResponseEvent` | <span data-ttu-id="fa2c2-250">このメソッドは、トークン応答イベントの処理に役立ちます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-250">This method helps to handle token response events.</span></span> |
| <span data-ttu-id="fa2c2-251">受信したその他のアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-251">Other activity type received</span></span> | `onUnrecognizedActivityType` | <span data-ttu-id="fa2c2-252">このメソッドは、それ以外の場合は処理されないアクティビティの種類を処理するのに役立ちます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-252">This method helps to handle any activity type otherwise unhandled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="fa2c2-253">Teams 固有のアクティビティ ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-253">Teams specific activity handlers</span></span>

<span data-ttu-id="fa2c2-254">コア Bot Framework ハンドラー セクションのハンドラーの一覧を `TeamsActivityHandler` 拡張し、次の項目を含める。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-254">The `TeamsActivityHandler` extends the list of handlers in the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="fa2c2-255">イベント</span><span class="sxs-lookup"><span data-stu-id="fa2c2-255">Event</span></span> | <span data-ttu-id="fa2c2-256">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-256">Handler</span></span> | <span data-ttu-id="fa2c2-257">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-257">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="fa2c2-258">channelCreated</span><span class="sxs-lookup"><span data-stu-id="fa2c2-258">channelCreated</span></span> | `OnTeamsChannelCreatedAsync` | <span data-ttu-id="fa2c2-259">このメソッドは、作成中の Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-259">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="fa2c2-260">詳細については、「会話の更新[イベントで作成された](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created)[チャネル」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-260">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="fa2c2-261">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="fa2c2-261">channelDeleted</span></span> | `OnTeamsChannelDeletedAsync` | <span data-ttu-id="fa2c2-262">このメソッドは、削除される Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-262">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="fa2c2-263">詳細については、「会話の更新[イベントで削除されたチャネル](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted)[」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-263">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-264">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="fa2c2-264">channelRenamed</span></span> | `OnTeamsChannelRenamedAsync` | <span data-ttu-id="fa2c2-265">このメソッドは、名前を変更する Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-265">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="fa2c2-266">詳細については、会話の更新[イベントでチャネルの名前が変更](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed)[されたを参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-266">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="fa2c2-267">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="fa2c2-267">teamRenamed</span></span> | `OnTeamsTeamRenamedAsync` | <span data-ttu-id="fa2c2-268">`return Task.CompletedTask;` このメソッドは、名前を変更する Teams チームを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-268">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="fa2c2-269">詳細については、会話の更新 [イベントでチームの名前が](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) 変更 [されたを参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-269">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="fa2c2-270">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="fa2c2-270">MembersAdded</span></span> | `OnTeamsMembersAddedAsync` | <span data-ttu-id="fa2c2-271">このメソッドは、次のメソッド `OnMembersAddedAsync` を呼び出します `ActivityHandler` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-271">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="fa2c2-272">このメソッドは、チームに参加するメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-272">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="fa2c2-273">詳細については、「会話の更新 [イベントで追加された](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) チーム メンバー [」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-273">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="fa2c2-274">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="fa2c2-274">MembersRemoved</span></span> | `OnTeamsMembersRemovedAsync` | <span data-ttu-id="fa2c2-275">このメソッドは、次のメソッド `OnMembersRemovedAsync` を呼び出します `ActivityHandler` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-275">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="fa2c2-276">このメソッドは、チームから離れるメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-276">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="fa2c2-277">詳細については、「会話の更新 [イベントで削除されたチーム メンバー](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) [」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-277">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |

#### <a name="teams-invoke-activities"></a><span data-ttu-id="fa2c2-278">Teams がアクティビティを呼び出す</span><span class="sxs-lookup"><span data-stu-id="fa2c2-278">Teams invoke activities</span></span>

<span data-ttu-id="fa2c2-279">Teams アクティビティ ハンドラーから呼び出される Teams アクティビティ ハンドラーの `onInvokeActivity` 一覧は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-279">The list of Teams activity handlers called from the `onInvokeActivity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="fa2c2-280">呼び出しの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-280">Invoke types</span></span>                    | <span data-ttu-id="fa2c2-281">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-281">Handler</span></span>                              | <span data-ttu-id="fa2c2-282">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-282">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="fa2c2-283">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-283">CardAction.Invoke</span></span>               | `handleTeamsCardActionInvoke`       | <span data-ttu-id="fa2c2-284">このメソッドは、カード アクション呼び出しアクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-284">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-285">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-285">fileConsent/invoke</span></span>              | `handleTeamsFileConsentAccept`      | <span data-ttu-id="fa2c2-286">このメソッドは、ユーザーがファイル同意カードを受け入れるときに呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-286">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="fa2c2-287">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-287">fileConsent/invoke</span></span>              | `handleTeamsFileConsent`            | <span data-ttu-id="fa2c2-288">このメソッドは、コネクタからファイル同意カードアクティビティを受信すると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-288">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-289">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-289">fileConsent/invoke</span></span>              | `handleTeamsFileConsentDecline`     | <span data-ttu-id="fa2c2-290">このメソッドは、ユーザーがファイル同意カードを拒否すると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-290">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="fa2c2-291">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="fa2c2-291">actionableMessage/executeAction</span></span> | `handleTeamsO365ConnectorCardAction` | <span data-ttu-id="fa2c2-292">このメソッドは、O365 コネクタ カードアクション アクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-292">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-293">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="fa2c2-293">signin/verifyState</span></span>              | `handleTeamsSigninVerifyState`      | <span data-ttu-id="fa2c2-294">このメソッドは、サインイン検証状態アクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-294">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-295">task/fetch</span><span class="sxs-lookup"><span data-stu-id="fa2c2-295">task/fetch</span></span>                      | `handleTeamsTaskModuleFetch`        | <span data-ttu-id="fa2c2-296">このメソッドは、タスク モジュールのフェッチ時にロジックを提供するために派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-296">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="fa2c2-297">task/submit</span><span class="sxs-lookup"><span data-stu-id="fa2c2-297">task/submit</span></span>                     | `handleTeamsTaskModuleSubmit`       | <span data-ttu-id="fa2c2-298">このメソッドは、タスク モジュールの送信時にロジックを提供するために派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-298">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="fa2c2-299">このセクションに記載されている起動アクティビティは、Teams の会話ボット用です。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-299">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="fa2c2-300">Bot Framework SDK は、メッセージング拡張機能に固有の呼び出しアクティビティもサポートします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-300">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="fa2c2-301">詳細については、「メッセージング拡張機能 [について」を参照してください](https://aka.ms/azure-bot-what-are-messaging-extensions)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-301">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

# <a name="python"></a>[<span data-ttu-id="fa2c2-302">Python</span><span class="sxs-lookup"><span data-stu-id="fa2c2-302">Python</span></span>](#tab/python)

#### <a name="core-bot-framework-handlers"></a><span data-ttu-id="fa2c2-303">コア Bot Framework ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-303">Core Bot Framework handlers</span></span>

>[!NOTE]
> <span data-ttu-id="fa2c2-304">追加および *削除された* メンバーのアクティビティを除き、このセクションで説明するアクティビティ ハンドラーはすべて、Teams 以外のボットの場合と同様に引き続き動作します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-304">Except for the *added* and *removed* members' activities, all the activity handlers described in this section continue to work as they do with a non-Teams bot.</span></span>

<span data-ttu-id="fa2c2-305">アクティビティ ハンドラーは、新しいメンバーがメッセージ スレッドではなくチームに追加されるチームのコンテキストでは異なります。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-305">Activity handlers are different in context of a team, where the new member is added to the team instead of a message thread.</span></span>

<span data-ttu-id="fa2c2-306">定義されているハンドラーの一覧は `ActivityHandler` 次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-306">The list of handlers defined in `ActivityHandler` include the following:</span></span>

| <span data-ttu-id="fa2c2-307">イベント</span><span class="sxs-lookup"><span data-stu-id="fa2c2-307">Event</span></span> | <span data-ttu-id="fa2c2-308">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-308">Handler</span></span> | <span data-ttu-id="fa2c2-309">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-309">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="fa2c2-310">受信したアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-310">Any activity type received</span></span> | `on_turn` | <span data-ttu-id="fa2c2-311">このメソッドは、受信したアクティビティの種類に基づいて、他のハンドラーの 1 つを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-311">This method calls one of the other handlers, based on the type of activity received.</span></span> |
| <span data-ttu-id="fa2c2-312">受信したメッセージ アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-312">Message activity received</span></span> | `on_message_activity` | <span data-ttu-id="fa2c2-313">このメソッドは、アクティビティを処理するためにオーバーライド `Message` できます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-313">This method can be overridden to handle a `Message` activity.</span></span> |
| <span data-ttu-id="fa2c2-314">受信した会話の更新アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-314">Conversation update activity received</span></span> | `on_conversation_update_activity` | <span data-ttu-id="fa2c2-315">ボット以外のメンバーが会話に参加または会話を離れた場合、このメソッドはハンドラーを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-315">This method calls a handler if members other than the bot join or leave the conversation.</span></span> |
| <span data-ttu-id="fa2c2-316">ボット以外のメンバーが会話に参加しました</span><span class="sxs-lookup"><span data-stu-id="fa2c2-316">Non-bot members joined the conversation</span></span> | `on_members_added_activity` | <span data-ttu-id="fa2c2-317">このメソッドは、会話に参加するメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-317">This method can be overridden to handle members joining a conversation.</span></span> |
| <span data-ttu-id="fa2c2-318">ボット以外のメンバーが会話を離した</span><span class="sxs-lookup"><span data-stu-id="fa2c2-318">Non-bot members left the conversation</span></span> | `on_members_removed_activity` | <span data-ttu-id="fa2c2-319">このメソッドは、会話を離れるメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-319">This method can be overridden to handle members leaving a conversation.</span></span> |
| <span data-ttu-id="fa2c2-320">受信したイベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-320">Event activity received</span></span> | `on_event_activity` | <span data-ttu-id="fa2c2-321">このメソッドは、イベントの種類に固有のハンドラーを呼び出します。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-321">This method calls a handler specific to the type of event.</span></span> |
| <span data-ttu-id="fa2c2-322">受信したトークン応答イベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-322">Token-response event activity received</span></span> | `on_token_response_event` | <span data-ttu-id="fa2c2-323">このメソッドは、トークン応答イベントを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-323">This method can be overridden to handle token response events.</span></span> |
| <span data-ttu-id="fa2c2-324">受信した非トークン応答イベント アクティビティ</span><span class="sxs-lookup"><span data-stu-id="fa2c2-324">Non-token-response event activity received</span></span> | `on_event` | <span data-ttu-id="fa2c2-325">このメソッドは、他の種類のイベントを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-325">This method can be overridden to handle other types of events.</span></span> |
| <span data-ttu-id="fa2c2-326">受信したその他のアクティビティの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-326">Other activity types received</span></span> | `on_unrecognized_activity_type` | <span data-ttu-id="fa2c2-327">このメソッドは、処理されない任意の種類のアクティビティを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-327">This method can be overridden to handle any type of activity that is not handled.</span></span> |

#### <a name="teams-specific-activity-handlers"></a><span data-ttu-id="fa2c2-328">Teams 固有のアクティビティ ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-328">Teams specific activity handlers</span></span>

<span data-ttu-id="fa2c2-329">コア Bot Framework ハンドラー セクションのハンドラーの一覧を `TeamsActivityHandler` 拡張し、次の項目を含める。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-329">The `TeamsActivityHandler` extends the list of handlers from the Core Bot Framework handlers section to include the following:</span></span>

| <span data-ttu-id="fa2c2-330">イベント</span><span class="sxs-lookup"><span data-stu-id="fa2c2-330">Event</span></span> | <span data-ttu-id="fa2c2-331">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-331">Handler</span></span> | <span data-ttu-id="fa2c2-332">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-332">Description</span></span> |
| :-- | :-- | :-- |
| <span data-ttu-id="fa2c2-333">channelCreated</span><span class="sxs-lookup"><span data-stu-id="fa2c2-333">channelCreated</span></span> | `on_teams_channel_created` | <span data-ttu-id="fa2c2-334">このメソッドは、作成中の Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-334">This method can be overridden to handle a Teams channel being created.</span></span> <span data-ttu-id="fa2c2-335">詳細については、「会話の更新[イベントで作成された](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created)[チャネル」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-335">For more information, see [Channel created](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-created) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span> |
| <span data-ttu-id="fa2c2-336">channelDeleted</span><span class="sxs-lookup"><span data-stu-id="fa2c2-336">channelDeleted</span></span> | `on_teams_channel_deleted` | <span data-ttu-id="fa2c2-337">このメソッドは、削除される Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-337">This method can be overridden to handle a Teams channel being deleted.</span></span> <span data-ttu-id="fa2c2-338">詳細については、「会話の更新[イベントで削除されたチャネル](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted)[」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-338">For more information, see [Channel deleted](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-deleted) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-339">channelRenamed</span><span class="sxs-lookup"><span data-stu-id="fa2c2-339">channelRenamed</span></span> | `on_teams_channel_renamed` | <span data-ttu-id="fa2c2-340">このメソッドは、名前を変更する Teams チャネルを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-340">This method can be overridden to handle a Teams channel being renamed.</span></span> <span data-ttu-id="fa2c2-341">詳細については、会話の更新[イベントでチャネルの名前が変更](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed)[されたを参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-341">For more information, see [Channel renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#channel-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-342">teamRenamed</span><span class="sxs-lookup"><span data-stu-id="fa2c2-342">teamRenamed</span></span> | `on_teams_team_renamed` | <span data-ttu-id="fa2c2-343">`return Task.CompletedTask;` このメソッドは、名前を変更する Teams チームを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-343">`return Task.CompletedTask;` This method can be overridden to handle a Teams team being renamed.</span></span> <span data-ttu-id="fa2c2-344">詳細については、会話の更新 [イベントでチームの名前が](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) 変更 [されたを参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-344">For more information, see [Team renamed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-renamed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-345">MembersAdded</span><span class="sxs-lookup"><span data-stu-id="fa2c2-345">MembersAdded</span></span> | `on_teams_members_added` | <span data-ttu-id="fa2c2-346">このメソッドは、次のメソッド `OnMembersAddedAsync` を呼び出します `ActivityHandler` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-346">This method calls the `OnMembersAddedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="fa2c2-347">このメソッドは、チームに参加するメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-347">The method can be overridden to handle members joining a team.</span></span> <span data-ttu-id="fa2c2-348">詳細については、「会話の更新 [イベントで追加された](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) チーム メンバー [」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-348">For more information, see [Team members added](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-added) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|
| <span data-ttu-id="fa2c2-349">MembersRemoved</span><span class="sxs-lookup"><span data-stu-id="fa2c2-349">MembersRemoved</span></span> | `on_teams_members_removed` | <span data-ttu-id="fa2c2-350">このメソッドは、次のメソッド `OnMembersRemovedAsync` を呼び出します `ActivityHandler` 。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-350">This method calls the `OnMembersRemovedAsync` method in `ActivityHandler`.</span></span> <span data-ttu-id="fa2c2-351">このメソッドは、チームから離れるメンバーを処理するためにオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-351">The method can be overridden to handle members leaving a team.</span></span> <span data-ttu-id="fa2c2-352">詳細については、「会話の更新 [イベントで削除されたチーム メンバー](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) [」を参照してください](https://aka.ms/azure-bot-subscribe-to-conversation-events)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-352">For more information, see [Team members removed](https://aka.ms/azure-bot-subscribe-to-conversation-events#team-members-removed) in [Conversation update events](https://aka.ms/azure-bot-subscribe-to-conversation-events).</span></span>|

#### <a name="teams-invoke-activities"></a><span data-ttu-id="fa2c2-353">Teams がアクティビティを呼び出す</span><span class="sxs-lookup"><span data-stu-id="fa2c2-353">Teams invoke activities</span></span>

<span data-ttu-id="fa2c2-354">Teams アクティビティ ハンドラーから呼び出される Teams アクティビティ ハンドラーの `on_invoke_activity` 一覧は、次のとおりです。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-354">The list of Teams activity handlers called from the `on_invoke_activity` Teams activity handler include the following:</span></span>

| <span data-ttu-id="fa2c2-355">呼び出しの種類</span><span class="sxs-lookup"><span data-stu-id="fa2c2-355">Invoke types</span></span>                    | <span data-ttu-id="fa2c2-356">ハンドラー</span><span class="sxs-lookup"><span data-stu-id="fa2c2-356">Handler</span></span>                              | <span data-ttu-id="fa2c2-357">説明</span><span class="sxs-lookup"><span data-stu-id="fa2c2-357">Description</span></span>                                                  |
| :-----------------------------  | :----------------------------------- | :----------------------------------------------------------- |
| <span data-ttu-id="fa2c2-358">CardAction.Invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-358">CardAction.Invoke</span></span>               | `on_teams_card_action_invoke`       | <span data-ttu-id="fa2c2-359">このメソッドは、カード アクション呼び出しアクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-359">This method is invoked when a card action invoke activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-360">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-360">fileConsent/invoke</span></span>              | `on_teams_file_consent_accept`      | <span data-ttu-id="fa2c2-361">このメソッドは、ユーザーがファイル同意カードを受け入れるときに呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-361">This method is invoked when a file consent card is accepted by the user.</span></span> |
| <span data-ttu-id="fa2c2-362">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-362">fileConsent/invoke</span></span>              | `on_teams_file_consent`            | <span data-ttu-id="fa2c2-363">このメソッドは、コネクタからファイル同意カードアクティビティを受信すると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-363">This method is invoked when a file consent card activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-364">fileConsent/invoke</span><span class="sxs-lookup"><span data-stu-id="fa2c2-364">fileConsent/invoke</span></span>              | `on_teams_file_consent_decline`     | <span data-ttu-id="fa2c2-365">このメソッドは、ユーザーがファイル同意カードを拒否すると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-365">This method is invoked when a file consent card is declined by the user.</span></span> |
| <span data-ttu-id="fa2c2-366">actionableMessage/executeAction</span><span class="sxs-lookup"><span data-stu-id="fa2c2-366">actionableMessage/executeAction</span></span> | `on_teams_o365_connector_card_action` | <span data-ttu-id="fa2c2-367">このメソッドは、O365 コネクタ カードアクション アクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-367">This method is invoked when a O365 connector card action activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-368">signin/verifyState</span><span class="sxs-lookup"><span data-stu-id="fa2c2-368">signin/verifyState</span></span>              | `on_teams_signin_verify_state`      | <span data-ttu-id="fa2c2-369">このメソッドは、サインイン検証状態アクティビティがコネクタから受信されると呼び出されます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-369">This method is invoked when a signIn verify state activity is received from the connector.</span></span> |
| <span data-ttu-id="fa2c2-370">task/fetch</span><span class="sxs-lookup"><span data-stu-id="fa2c2-370">task/fetch</span></span>                      | `on_teams_task_module_fetch`        | <span data-ttu-id="fa2c2-371">このメソッドは、タスク モジュールのフェッチ時にロジックを提供するために派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-371">This method can be overridden in a derived class to provide logic when a task module is fetched.</span></span> |
| <span data-ttu-id="fa2c2-372">task/submit</span><span class="sxs-lookup"><span data-stu-id="fa2c2-372">task/submit</span></span>                     | `on_teams_task_module_submit`       | <span data-ttu-id="fa2c2-373">このメソッドは、タスク モジュールの送信時にロジックを提供するために派生クラスでオーバーライドできます。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-373">This method can be overridden in a derived class to provide logic when a task module is submitted.</span></span> |

<span data-ttu-id="fa2c2-374">このセクションに記載されている起動アクティビティは、Teams の会話ボット用です。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-374">The invoke activities listed in this section are for conversational bots in Teams.</span></span> <span data-ttu-id="fa2c2-375">Bot Framework SDK は、メッセージング拡張機能に固有の呼び出しアクティビティもサポートします。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-375">The Bot Framework SDK also supports invoke activities specific to messaging extensions.</span></span> <span data-ttu-id="fa2c2-376">詳細については、「メッセージング拡張機能 [について」を参照してください](https://aka.ms/azure-bot-what-are-messaging-extensions)。</span><span class="sxs-lookup"><span data-stu-id="fa2c2-376">For more information, see [What are messaging extensions](https://aka.ms/azure-bot-what-are-messaging-extensions).</span></span>

---
