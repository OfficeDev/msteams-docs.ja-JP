---
title: Power Virtual Agents chatbot を Teams に追加する
author: laujan
description: Teams プラットフォームでの Power Virtual Agent chatbot の統合
ms.topic: how-to
ms.author: lajanuar
ms.openlocfilehash: 57b06fd0d3e1fae0cbfb927335fb1b5941396bb0
ms.sourcegitcommit: 1b909fb9ccf6cdd84ed0d8f9ea0463243a802a23
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 07/28/2020
ms.locfileid: "45434525"
---
# <a name="integrate-a-power-virtual-agents-chatbot-with-microsoft-teams"></a><span data-ttu-id="e9192-103">Power Virtual Agents chatbot を Microsoft Teams と統合する</span><span class="sxs-lookup"><span data-stu-id="e9192-103">Integrate a Power Virtual Agents chatbot with Microsoft Teams</span></span>

<span data-ttu-id="e9192-104">[パワー仮想エージェント](/power-virtual-agents/fundamentals-what-is-power-virtual-agents)は、コードを使用しないグラフィカルインターフェイスソリューションであり、チームのすべてのメンバーが、Teams プラットフォームと簡単に統合できる多彩な会話を作成することを可能にします。</span><span class="sxs-lookup"><span data-stu-id="e9192-104">[Power Virtual Agents](/power-virtual-agents/fundamentals-what-is-power-virtual-agents) is a no-code, guided graphical interface solution that empowers every member of your team to create rich, conversational chatbots that easily integrate with the Teams platform.</span></span> <span data-ttu-id="e9192-105">Power Virtual Agent で作成されたすべてのコンテンツは、teams とパワー仮想エージェントの場合、Teams ネイティブチャットキャンバスでユーザーと連携して表示されます。</span><span class="sxs-lookup"><span data-stu-id="e9192-105">All content authored in Power Virtual Agents renders naturally in Teams and Power Virtual Agents bots engage with users in the Teams native chat canvas.</span></span> <span data-ttu-id="e9192-106">IT 管理者、ビジネスアナリスト、ドメインスペシャリスト、および熟練したアプリ開発者は、開発環境をセットアップしたり、web サービスを作成したり、Bot フレームワークに直接登録したりしなくても、チームのためのインテリジェントな仮想エージェントを設計、開発、および発行することができます。</span><span class="sxs-lookup"><span data-stu-id="e9192-106">Your IT administrators, business analysts, domain specialists, and skilled app developers can design, develop and publish intelligent virtual agents for Teams without having to setup a development environment, create a web service, or directly register with the Bot Framework.</span></span>  <span data-ttu-id="e9192-107">「 [Microsoft Power Virtual エージェントを使用して Teams の chatbot を作成する](../what-are-bots.md#create-a-chatbot-for-teams-with-microsoft-power-virtual-agents) *」を参照してください*。</span><span class="sxs-lookup"><span data-stu-id="e9192-107">*See* [Create a chatbot for Teams with Microsoft Power Virtual Agents](../what-are-bots.md#create-a-chatbot-for-teams-with-microsoft-power-virtual-agents).</span></span>

> [!NOTE]
> <span data-ttu-id="e9192-108">お客様の chatbot を Microsoft Teams に追加することによって、bot コンテンツやエンドユーザーチャットコンテンツなどの一部のデータが Microsoft Teams と共有されます (つまり、データは[組織のコンプライアンスと地理的または地域の境界](/power-virtual-agents/data-location)の外部に流れます)。</span><span class="sxs-lookup"><span data-stu-id="e9192-108">By adding your chatbot to Microsoft Teams, some of data, such as bot content and end-user chat content, will be shared with Microsoft Teams (meaning that your data will flow outside of your [organization’s compliance and geographic or regional boundaries](/power-virtual-agents/data-location)).</span></span> <br/>
> <span data-ttu-id="e9192-109">詳細については、「 [Microsoft Teams のセキュリティとコンプライアンス](/MicrosoftTeams/security-compliance-overview)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e9192-109">For more information, see the [Security and compliance in Microsoft Teams](/MicrosoftTeams/security-compliance-overview).</span></span>

## <a name="make-your-chatbot-reachable-in-teams-in-the-power-virtual-agents-portal"></a><span data-ttu-id="e9192-110">Power Virtual Agents ポータルの Teams で chatbot にアクセスできるようにする</span><span class="sxs-lookup"><span data-stu-id="e9192-110">Make your chatbot reachable in Teams in the Power Virtual Agents portal</span></span>

1. <span data-ttu-id="e9192-111">**最新の bot コンテンツを公開**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-111">**Publish the latest bot content**.</span></span>  <span data-ttu-id="e9192-112">[Power Virtual Agents ポータル](https://powervirtualagents.microsoft.com)で chatbot を作成した後、Teams を少なくとも1回発行して Teams ユーザーが操作できるようにする必要があります。</span><span class="sxs-lookup"><span data-stu-id="e9192-112">After you have created a chatbot in the [Power Virtual Agents portal](https://powervirtualagents.microsoft.com), you need to publish your bot at least once before Teams users can interact with it.</span></span> <span data-ttu-id="e9192-113">「[最新の bot コンテンツを発行する](/power-virtual-agents/publication-fundamentals-publish-channels#publish-the-latest-bot-content)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e9192-113">See [Publish the latest bot content](/power-virtual-agents/publication-fundamentals-publish-channels#publish-the-latest-bot-content).</span></span>

![パワー仮想エージェントポータルでの発行](../../assets/images/pva-publish.png)

2. <span data-ttu-id="e9192-115">**Teams チャネルを構成**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-115">**Configure the Teams channel**.</span></span> <span data-ttu-id="e9192-116">Bot を発行した後、teams チャネルを追加して Teams ユーザーにアクセスできるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="e9192-116">After publishing your bot, you can add the Teams channel to make the bot reachable to Teams users.</span></span>

![電源仮想エージェントポータルのチャネル](../../assets/images/pva-channels.png)

3. <span data-ttu-id="e9192-118">**Chatbot のアプリ Id を生成**する Teams のチャネルが chatbot に正常に追加されると、ダイアログボックスに**アプリ Id**が生成されます。</span><span class="sxs-lookup"><span data-stu-id="e9192-118">**Generate an App Id for your chatbot**  When the Teams channel has been successfully added to your chatbot, an **App Id** will be generated in the dialog box.</span></span> <span data-ttu-id="e9192-119">アプリ Id は、ボットに対して一意の Microsoft 生成された識別子です。</span><span class="sxs-lookup"><span data-stu-id="e9192-119">The App Id is a unique Microsoft generated identifier for your bot.</span></span>  <span data-ttu-id="e9192-120">アプリ Id をコピーして保存する-Teams 用のアプリパッケージを作成するには、後で必要になります。</span><span class="sxs-lookup"><span data-stu-id="e9192-120">Copy and save the App Id — you will need it later to create an app package for Teams.</span></span>

## <a name="add-your-bot-to-teams-using-app-studio"></a><span data-ttu-id="e9192-121">アプリ Studio を使用して bot を Teams に追加する</span><span class="sxs-lookup"><span data-stu-id="e9192-121">Add your bot to Teams using App Studio</span></span>

<span data-ttu-id="e9192-122">Teams インスタンスで[カスタムアプリのアップロードが有効になっ](/microsoftteams/admin-settings)ている場合は、Teams アプリ Studio を使用して、chatbot を直接アップロードし、すぐに使用を開始することができます。</span><span class="sxs-lookup"><span data-stu-id="e9192-122">If [uploading custom apps is enabled](/microsoftteams/admin-settings) in your Teams instance, you can use Teams App Studio to directly upload your chatbot and start using it right away.</span></span> <span data-ttu-id="e9192-123">Chatbot を共有する場合は、管理者がテナントのアプリカタログで bot を利用できるようにするか、他のアプリパッケージを送信して個別にアップロードするように依頼することができます。</span><span class="sxs-lookup"><span data-stu-id="e9192-123">If you want to share your chatbot, you can request that your admin make your bot available in the tenant app catalog or you can send others your app package and ask them to upload it independently.</span></span>

1. <span data-ttu-id="e9192-124">**Teams にアプリ Studio をインストール**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-124">**Install App Studio in Teams**.</span></span> <span data-ttu-id="e9192-125">App Studio は teams ストアからインストールできる Teams アプリであり、Teams でのボットの作成と登録を簡単にします。</span><span class="sxs-lookup"><span data-stu-id="e9192-125">App Studio is a Teams app you can install from the Teams store that simplifies the creation and registration of your bot in Teams:</span></span> 

  * <span data-ttu-id="e9192-126">Teams インスタンスの左側のナビゲーションバーの下部にある [app store] アイコンを選択し、**アプリ Studio**を検索します。</span><span class="sxs-lookup"><span data-stu-id="e9192-126">Select the app store icon from the bottom of the left nav bar in your Teams instance, and search for **App Studio**.</span></span>
>
&emsp;&emsp; <img  width="450px" title="ストア内のアプリ Studio の検索" src="../../assets/images/get-started/app-studio-store.png"/>    

  * <span data-ttu-id="e9192-128">[ **App Studio** ] タイルを選択し、ポップアップダイアログボックスの [**インストール**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="e9192-128">Select the **App Studio** tile and choose **Install** in the pop-up dialog box.</span></span>
>
&emsp;&emsp; <img  width="450px" title="App Studio をインストールする" src="../../assets/images/get-started/app-studio-install.png"/>

2. <span data-ttu-id="e9192-130">**App Studio で Teams アプリマニフェストを作成**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-130">**Create the Teams app manifest in App Studio**.</span></span>  <span data-ttu-id="e9192-131">Teams のボットは、ボットとその機能に関する基本的な情報を提供するアプリマニフェスト (JSON) ファイルによって定義されます。</span><span class="sxs-lookup"><span data-stu-id="e9192-131">Bots in Teams are defined by an app manifest (JSON) file that provides basic information about your bot and its capabilities.</span></span> <span data-ttu-id="e9192-132">**アプリ Studio**で [**マニフェストエディター**] を選択して   =>  **、新しいアプリを作成**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-132">In **App Studio** select **Manifest editor**  => **Create a new app**.</span></span>
3. <span data-ttu-id="e9192-133">**Bot の詳細を追加**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-133">**Add your bot details**.</span></span> <span data-ttu-id="e9192-134">各フィールドの詳細については、「[マニフェストスキーマ定義](../../resources/schema/manifest-schema.md)」を参照してください。</span><span class="sxs-lookup"><span data-stu-id="e9192-134">For a full descriptions of each field see [manifest schema definition](../../resources/schema/manifest-schema.md).</span></span> <span data-ttu-id="e9192-135">すべての必須フィールドに入力してください。</span><span class="sxs-lookup"><span data-stu-id="e9192-135">Be sure to complete all required fields.</span></span>
4. <span data-ttu-id="e9192-136">**Bot をセットアップ**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-136">**Set up your bot**.</span></span> <span data-ttu-id="e9192-137">[**ボット**] タブに移動して、[**セットアップ**] ボタンを選択し、[**既存のボット**] を選択して、bot 名を入力します。</span><span class="sxs-lookup"><span data-stu-id="e9192-137">Navigate to the **Bots** tab, select the **Setup** button, choose **Existing bot**, and enter your bot name.</span></span>
5. <span data-ttu-id="e9192-138">**アプリ Id を追加**します。**別の bot id に接続**して、先ほどコピーした**アプリ id**に貼り付けます。</span><span class="sxs-lookup"><span data-stu-id="e9192-138">**Add your App Id**. Navigate to **Connect to a different bot id** and paste in the **App Id** you copied earlier.</span></span> <span data-ttu-id="e9192-139">[範囲] で [**個人**] を選択し、[**保存**] を選択します。</span><span class="sxs-lookup"><span data-stu-id="e9192-139">Under scope, select **Personal** and then select **Save**.</span></span>
6. <span data-ttu-id="e9192-140">**Bot の有効なドメインを追加**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-140">**Add valid domains for your bot**.</span></span>  <span data-ttu-id="e9192-141">この手順は、bot がサインインすることをユーザーに要求する場合にのみ必要です。</span><span class="sxs-lookup"><span data-stu-id="e9192-141">This step is only required if your bot requires the user to sign in.</span></span> <span data-ttu-id="e9192-142">[**ドメインとアクセス許可**] に移動し、[**有効なドメイン**] フィールドに次を入力します。</span><span class="sxs-lookup"><span data-stu-id="e9192-142">Navigate to **Domains and permissions** and  in the **Valid Domains** field input the following:</span></span>

```bash
token.botframework.com
```

7.  <span data-ttu-id="e9192-143">**Bot をテストして配布**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-143">**Test and distribute your bot**.</span></span> <span data-ttu-id="e9192-144">[**テストと配布**] タブを選択し、[**インストール**] を選択して、自分の Teams インスタンスに bot を直接追加します。</span><span class="sxs-lookup"><span data-stu-id="e9192-144">Choose the **Test and distribute** tab and choose **Install** to add your bot directly to your Teams instance.</span></span> <span data-ttu-id="e9192-145">必要に応じて、完成したアプリパッケージをダウンロードして Teams ユーザーと共有するか、管理者に提供して、テナントのアプリカタログで bot を使用できるようにすることができます。</span><span class="sxs-lookup"><span data-stu-id="e9192-145">Optionally, you can download your completed app package to share with Teams users or provide it to your admin to make your bot available in the tenant app catalog.</span></span>
8. <span data-ttu-id="e9192-146">**チャットを開始**します。</span><span class="sxs-lookup"><span data-stu-id="e9192-146">**Start a chat**.</span></span> <span data-ttu-id="e9192-147">Power Virtual Agents チャットボットを Teams に追加するためのセットアッププロセスは完了しています。</span><span class="sxs-lookup"><span data-stu-id="e9192-147">The setup process for adding your Power Virtual Agents chat bot to Teams is complete.</span></span> <span data-ttu-id="e9192-148">これで、個人のチャットで bot との会話を開始できるようになります。</span><span class="sxs-lookup"><span data-stu-id="e9192-148">You can now start a conversation with your bot in a personal chat.</span></span>

> [!div class="nextstepaction"]
> [<span data-ttu-id="e9192-149">Power Virtual Agents bot の公開の詳細情報</span><span class="sxs-lookup"><span data-stu-id="e9192-149">Learn more about publishing your Power Virtual Agents bot</span></span>](/power-virtual-agents/publication-fundamentals-publish-channels)
