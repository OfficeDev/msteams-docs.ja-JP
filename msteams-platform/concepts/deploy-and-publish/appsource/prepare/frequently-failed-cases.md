---
title: ヒントとよく発生するケース
description: 送信に関するヒントと最も失敗したポリシーについて説明します。
author: laujan
ms.author: lajanuar
ms.topic: how to
ms.openlocfilehash: 93b772f6868c50df6810c09f06bc9d1c99a00896
ms.sourcegitcommit: f9a2f5cedc9d30ef7a9cf78a47d01cfd277e150d
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 09/23/2020
ms.locfileid: "48237861"
---
# <a name="tips-for-a-successful-app-submission"></a>アプリの送信を成功させるためのヒント

この記事では、提出されたアプリの検証の一般的な原因について説明します。 アプリに関するすべての潜在的な問題を網羅したリストではありませんが、このガイドを使用すると、アプリの送信が初めて成功する可能性が高くなります。 検証ポリシーの詳細な一覧については、「[コマーシャル市場の証明書ポリシー](/legal/marketplace/certification-policies) *」を参照してください*。

>[!NOTE]
>**[セクション 1140](/legal/marketplace/certification-policies#1140-teams)** は、teams アプリの Microsoft teams および **[サブセクション 1140.4](https://docs.microsoft.com/legal/marketplace/certification-policies#11404-functionality)** に固有の機能要件に対応しています。

## <a name="validation-guidelines"></a>検証ガイドライン

### <a name="9989-general-considerations"></a>&#9989; 一般的な考慮事項

「100」セクション*も参照してください* [(全般)](/legal/marketplace/certification-policies#100-general)

* [Microsoft TEAMS SDK](https://www.npmjs.com/package/@microsoft/teams-js)のバージョン1.4.1 以降を使用していることを確認してください。
* 検証プロセスの進行中にアプリを変更しないでください。 これにより、アプリの完全な再検証が必要になります。
* アプリが応答を停止したり、予期せず終了したり、プログラミングエラーが発生したりしてはなりません。 問題が発生した場合、アプリが正常に失敗し、ユーザーに対して有効な転送メッセージを提供する必要があります。
* アプリでは、ユーザー環境の実行可能コードを自動的にダウンロード、インストール、または起動してはなりません。 すべてのダウンロードは、ユーザーから明示的な権限を検索する必要があります。
* 説明やサポートドキュメントなど、ユーザーの環境に関連付けられているマテリアルが正確である必要があります。 説明と資料では、正しいスペル、大文字と小文字の区別、句読点、および文法を使用してください。
* ヘルプとサポート情報を提供します。 アプリには、最初に実行するユーザーのためのヘルプ/FAQ リンクが含まれていることを強くお勧めします。 すべての個人用アプリについて、ユーザーの利便性を向上させるために、ヘルプページを [個人用] タブとして提供することをお勧めします。
* 送信に対してマニフェストに変更を加える場合は、マニフェストでアプリのバージョン番号をインクリメントします。

### <a name="9989--provide-a-clear-and-simple-sign-insign-out-and-sign-up-experience"></a>明確でシンプルなサインイン/サインアウトとサインアップの機能を提供 &#9989;

「 [1100.5」のセクション](/legal/marketplace/certification-policies#11005-customer-control)*も参照してください*。カスタマーコントロール

* アプリまたはアドインが外部アカウントまたはサービスに依存している場合は、アプリ内のすべての機能について、サインイン/サインアウトとサインアップが明らかになり、到達可能である必要があります。
* ユーザーに対して明示的なサインインオプションが提供されている場合は、対応するサインアウトオプションがある必要があります (アプリが SSO/[サイレント認証](~/tabs/how-to/authentication/auth-silent-aad.md)を使用している場合でも)。
* サインアウトオプションでは、アプリの機能だけでなく、Teams クライアントからサインアウトする必要はありません。
* サインアウトオプションでは、少なくとも、サインインオプションを使用してアクセスしたのと同じ機能を使用してユーザーに署名する必要があります。 たとえば、[サインイン] オプションにメッセージング拡張機能とタブの両方が含まれている場合は、サインアウトオプションにメッセージング拡張機能とタブの両方を含める必要があります。

* 次の動作 (または類似) を必ずしも逆転する方法があることを確認してください。
  * サインイン => サインアウト。
  * アカウント/サービスをリンクする => アカウント/サービスのリンクを解除します。
  * アカウント/サービスを接続する => アカウント/サービスを切断します。
  * アカウント/サービスを承認する => アカウント/サービスの承認/拒否を解除します。
  * アカウント/サービスを登録する => アカウント/サービスの登録/登録解除を行います。
* アプリがアカウントまたはサービスを必要とする場合、ユーザーがサインアップするか、サインアップ要求を作成するための手段を提供する必要があります。 アプリがエンタープライズアプリケーションの場合、例外が許可されることがあります。
* サインイン/サインアウト機能は、モバイルクライアントで機能する必要があります。 [Microsoft TEAMS SDK](https://www.npmjs.com/package/@microsoft/teams-js)バージョン1.4.1 以降を使用していることを確認してください。

認証の詳細については、次を参照してください。

* [認証のドキュメント](../../../authentication/authentication.md)
* [ノード内の Bot 認証のサンプル](https://github.com/OfficeDev/microsoft-teams-sample-auth-node)
* [ノード内のタブ認証のサンプル](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)
* [C#/.NET の Tab/bot 認証](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp)

### <a name="9989-response-times-must-be-reasonable"></a>&#9989; 応答時間は妥当でなければなりません。

* **タブ**。 アクションへの応答に3秒以上かかる場合は、読み込みメッセージまたは警告を指定する必要があります。
* **Bot**。 ユーザーコマンドへの応答は、2秒以内に実行される必要があります。 より長い処理が必要な場合は、アプリで入力インジケーターを表示する必要があります。
* **拡張機能を作成**します。 ユーザーコマンドへの応答は5秒以内に実行する必要があります。

> [!TIP]
> アプリで応答が予想よりも長くかかっている場合は、アプリに読み込みインジケーターまたは何らかの形式の警告が表示されることを確認してください。

### <a name="9989-tab-content-should-not-have-excessive-chrome-or-layered-navigation"></a>&#9989; タブのコンテンツには、chrome またはレイヤードナビゲーションが多すぎないようにします。

* タブはフォーカスがあるコンテンツを提供し、不要な UI 要素を避けます。 一般的に、これは通常、不要なネスト化/階層ナビゲーション、コンテンツの横の無関係または無関係な UI、またはユーザーが関連性のないコンテンツになるリンクを指します。 たとえば、次に示すのは、ナビゲーションメニューを省略したタブビューで、メインコンテンツのみを表示します。

![SharePoint web ビュー](~/assets/images/faq/web-sp.png)  
![SharePoint タブビュー](~/assets/images/faq/tab-sp.png)

* タブは基本的に明るいので、複雑なナビゲーションは含まれません。
* 複数のビューオプションがある場合は、ユーザーが選択できるタブ構成メニューがあることを検討してください。 たとえば、タブ内にメニューを埋め込む代わりに、[構成] ページにメニューを配置して、実際のタブビューがクリーンでフォーカスされるようにします。

![幅の広いアイデア構成ページ](~/assets/images/faq/wideidea.png)

### <a name="9989-tab-configuration-must-happen-in-the-configuration-screen"></a>構成画面でタブの構成を &#9989; する必要があります。

* 構成画面では、操作の価値とタブの構成方法を明確に説明する必要があります。
* 構成プロセスでは、ユーザーがユーザーの操作を終了しないようにするための方法を常に提供する必要があります。 たとえば、ユーザーがタブを構成した後に空の掲示板を表示しないようにします。
* ユーザーのサインインプロセスは、構成プロセスの一部であり、タブ UI で完了する必要があります。 ユーザーが構成を完了し、タブを読み込むと、それ以上のアクションは必要ありません。
* [サインイン構成] ポップアップウィンドウ内に web ページ全体を表示しません。
* ユーザーは、探しているコンテンツをすぐに見つけることができない場合でも、常に構成の作業を完了できる必要があります。
* 構成作業では、ユーザーがコンテンツを検索したり、URL を固定したり、存在しない場合は新しいコンテンツを作成したりするためのオプションを提供する必要があります。
* 構成作業は Teams コンテキスト内にとどまる必要があります。 ユーザーは、コンテンツを作成するための構成の作業を終了する必要はありません。その後、チームに戻ってピン留めしてください。
* 利用可能なビューポート領域を効率的に使用します。 非常に大きなロゴを使用して構成をポップアップしないでください。

![OneNote では、メモが見つからない場合に OneNote リンクを貼り付けることができます。](~/assets/images/faq/tab-onenote-config.png)

![既存のプランがない場合、ユーザーはいつでもプランナーで新しいプランを作成できます。](~/assets/images/faq/tab-planner-config.png)

![SharePoint では、ユーザーが SharePoint リンクを直接貼り付けることもできます。](~/assets/images/faq/tab-sp-config.png)

### <a name="9989-bots-must-always-be-responsive-and-fail-gracefully"></a>&#9989; Bot は常に応答可能で、正常に失敗する必要がある

Bot は、すべてのコマンドに応答し、ユーザーが停止することはありません。 ユーザーにインテリジェントに応答できるようにするためのヒントを以下に示します。

* **コマンドリストを使用**します。 ユーザー入力を分析したり、ユーザーの意図を予測したりすることは困難です。 Bot が実行できることをユーザーに知らせるのではなく、bot が理解しているコマンドの一覧を提供します。

![フローコマンドリスト](~/assets/images/faq/flow-bot.png)

* **ヘルプコマンドを含め**ます。 ユーザーが失われたとき、または bot が期待どおりに応答しない場合は、「Help」と入力することがよくあります。 すべての有効なコマンドと共にアプリの値がどのように表示されるかを説明するヘルプコマンドを含めます。

![フローヘルプコマンド](~/assets/images/faq/flow-help.png)

* **Bot が失われたときに、ヘルプコンテンツまたはガイダンスを含め**ます。 Bot がユーザーの入力を理解できない場合は、代替の操作を提案する必要があります。 たとえば、 *「残念ですが、わかりません。詳細については、「help」と入力してください。* エラーメッセージに応答したり、単に *"理解していません"* というメッセージを表示したりしないでください。 この機会を使用して、ユーザーに教えることができます。

* **インテリカードとタスクモジュールを使用して bot の応答を明確にし、** 
 操作可能にする[タスクモジュールを呼び出すボタンがあるアダプティブカード](/task-modules-and-cards/task-modules/task-modules-bots)は、ボットユーザーの操作を強化します。 これらのカードとボタンは、ユーザーがコマンドを入力するのではなく、モバイルデバイスで簡単に使用できるようになります。

* **すべてのスコープを考慮**します。 チャネルおよび個人の会話に記載されている場合は、ボットが適切な応答を提供していることを確認してください `@*botname*` 。 Bot が個人または teams のスコープ内で意味のあるコンテキストを提供していない場合は、マニフェストを使用してその範囲を無効にします。 (「 `bots` [Microsoft Teams のマニフェストスキーマリファレンス](~/resources/schema/manifest-schema.md#bots)」のブロックを参照してください)。

### <a name="9989-personal-bots-must-send-a-welcome-message-on-first-launch"></a>初回起動時に &#9989; 個人ボットが開始メッセージを送信する必要がある

個人/チャットボットのトーンを設定するには、開始メッセージを使用するのが最善の方法です。 これは、ユーザーが bot との最初の相互作用です。 「いいね!」というメッセージが表示される場合は、ユーザーにアプリの調査を引き続き促すことができます。 歓迎または導入のメッセージが紛らわしいか不明確な場合、ユーザーにはアプリの価値がすぐには表示されず、関心が失われることはありません。

> [!Note]
> チャネル bot の場合、ウェルカムメッセージは省略可能です。

### <a name="welcome-message-requirements"></a>ウェルカムメッセージの要件

* ウェルカムツアーには、価値の提案が含まれています。
* Bot を使用するための方法を説明します。
* 簡単に読めるテキストと簡単な会話を提供します。これにより、タスクモジュールを読み込む実践的なツアーボタンを備えたカードを使用できるようになります。
* シンプルなものにして、chatty の会話を避けてください。
* 便利なカードとボタンを含めて、歓迎メッセージをより使いやすくします。
* 2つ以上の同時 ping ではなく、1つの ping で開始メッセージを起動します。
* ウェルカムメッセージは、1:1 の個人用チャットで推奨されるアプリを構成したユーザーにのみ表示される必要があります。
* チーム内のすべてのメンバーに個人的なチャットを送信しないでください。
* 開始メッセージを複数回送信することはありません。 同じウェルカムメッセージを定期的に繰り返すことは許可されておらず、スパムと見なされます。

#### <a name="avoid-welcome-message-spamming"></a>ウェルカムメッセージスパムを回避する

* **Bot によるチャネルメッセージ**。 別の新しいチャット投稿を作成して、ユーザーをスパムにしないようにします。 同じスレッドで応答を使用して1つのスレッド投稿を作成します。
* **Bot による個人チャット**。 複数のメッセージを送信しません。 完全な情報を含む1つのメッセージを送信します。

#### <a name="notification-only-bot-welcome-messages"></a>通知のみのボットウェルカムメッセージ

通知のみのボットは、メッセージを含むウェルカムメッセージを送信する必要があります。 *"は通知のみの bot で、チャットに返信することはできません" と*伝えます。

#### <a name="welcome-messages-in-the-personal-scope"></a>個人用の範囲内のウェルカムメッセージ

* **メッセージを簡潔に、わかりやすく**します。  多くの場合、アプリのユーザー操作と知識はさまざまです。 ユーザーが別のプラットフォームでアプリを使用しているか、アプリについて何も認識していない可能性があります。 すべての対象ユーザーに対してメッセージを調整する必要があります。また、いくつかの文で、お客様のボットの内容とその操作方法を説明します。 また、アプリの価値と、ユーザーがそれを使用する利点についても説明する必要があります。
![Cafe と Dinning bot](~/assets/images/faq/cafe-bot.png)

* **メッセージをアクション可能に**します。 アプリをインストールした後、ユーザーが最初に実行することを考慮してください。 試してみるべきすばらしいコマンドがありますか。 他に知っておくべき開始時の作業がありますか? サインインする必要があるかどうか アダプティブカードにアクションを追加したり、 *"お問い合わせ*ください" *などの特定の例を指定*したりすることができます。

#### <a name="welcome-messages-in-the-teamchannel--scope"></a>チーム/チャネルスコープでのウェルカムメッセージ

Bot が最初にチャネルに追加されたときには、多少異なる操作が行われます。 通常、チームの全員に1:1 メッセージを送信するのではなく、ボットがチャネルでウェルカムメッセージを送信することができます。

> [!div class="nextstepaction"]
> [Teams アプリの承認ポリシーの詳細情報](/legal/marketplace/certification-policies#1140-teams) 
