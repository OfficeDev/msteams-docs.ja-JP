---
title: アプリの提出に関するヒントと、頻繁に失敗したケース
description: ストアの送信が成功するためのヒントTeams説明し、提出が失敗する一般的な理由について説明します
ms.topic: reference
localization_priority: Normal
ms.author: lajanuar
keywords: アプリの送信のヒント頻繁に失敗したケースの検証ガイドライン
ms.openlocfilehash: 50bbd2af3b4c834e2ac4776e1fc7db1d8bf45173
ms.sourcegitcommit: 51e4a1464ea58c254ad6bd0317aca03ebf6bf1f6
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/19/2021
ms.locfileid: "52565278"
---
# <a name="tips-for-a-successful-microsoft-teams-app-submission"></a>Microsoft Teams アプリの提出を成功させるためのヒント

>[!NOTE]
>このページは 2021 年 5 月までに廃止予定です。 アプリの正常な発行の詳細については[、「Teams ストア検証ガイドライン](~/concepts/deploy-and-publish/appsource/prepare/teams-store-validation-guidelines.md)」を参照してください。

この記事では、提出されたアプリが検証に失敗する一般的な理由について説明します。 アプリに関するすべての潜在的な問題の完全なリストではありませんが、このガイドに従うと、アプリの提出が最初に通過する可能性が高くなります。 詳細については、「 [商用市場の認証ポリシー](/legal/marketplace/certification-policies) 」を参照して、検証ポリシーの広範なリストを参照してください。

>[!NOTE]
>**[セクション1140](/legal/marketplace/certification-policies#1140-teams)** はMicrosoft Teamsに固有であり、**[サブセクション1140.4](/legal/marketplace/certification-policies#11404-functionality)** はTeamsアプリの機能要件に対処します。

## <a name="validation-guidelines--most-failed-test-cases"></a>ほとんどの失敗したテスト ケース&検証ガイドライン

### <a name="9989-general-considerations"></a>&#9989;一般的な考慮事項

* Microsoft Teams [SDK](https://www.npmjs.com/package/@microsoft/teams-js)のバージョン 1.4.1 以降を使用していることを確認します。
* 検証プロセスの進行中は、アプリに変更を加えないでください。 これを行うには、アプリの完全な再検証が必要になります。
* アプリは、応答を停止したり、予想外に終了したり、プログラミング エラーを含んだりしてはなりません。 問題が発生した場合、アプリは失敗し、ユーザーに転送するための有効な情報を提供する必要があります。
* アプリは、ユーザー環境で実行可能コードを自動的にダウンロード、インストール、または起動してはなりません。 すべてのダウンロードは、ユーザーに明示的な許可を求める必要があります。
* 説明やサポート ドキュメントなど、経験に関連付ける資料は正確でなければなりません。 説明と資料では、正しいスペル、大文字と小文字の区別、句読点、および文法を使用してください。
* ヘルプとサポート情報を提供します。 アプリには、初回実行のユーザー エクスペリエンスに関するヘルプまたは FAQ リンクを含め、強くお勧めします。 すべての個人用アプリでは、より良いユーザー エクスペリエンスを得るための個人用タブとしてヘルプ ページを提供することをお勧めします。
* すべてのアプリには、次の場所でアプリの機能と必要な統合について説明する構成画面で **[ツアーを取る** ]や **[アプリガイド** ]などのビジュアルツアーが必要です。
    * ストアの掲載情報ページ (詳細説明)。
    * タブ設定画面。
    * ボットのウェルカム メッセージ。
    * アプリ ソースのメタデータ。
    * コネクタの構成画面。

* ビジュアルツアーは、ビデオ、スクリーンショット、アプリの詳細を含む静的なタブへのリンクにすることができます。 これらの参照はすべて、Teams環境内になければなりません。

    ![サンプル アプリケーション 1 ](../../../../assets/images/faq/Sampleapp1.png) ![ サンプル アプリ 2](../../../../assets/images/faq/Sampleapp2.png)

* 提出書類にマニフェストを変更した場合は、マニフェストでアプリのバージョン番号を増やします。
* アプリは、コア ユーザー シナリオのTeamsからユーザーを取り出してはなりません。 アプリのリンク ターゲットは、外部ブラウザーにリンクしないでください。 リンクターゲットは、タスクモジュールやタブなど、Teams内に含まれるdiv要素にリンクする必要があります。 
* タスク モジュールまたはタブを使用して、Teams内のユーザーに情報を表示することをお勧めします。
* 次のシナリオを除き、すべてのコア シナリオと非コア シナリオは、Teams環境内で完了する必要があります。
  * プライバシー ポリシー
  * 利用規約 (TOU)
  * ウェブサイトリンク
  * サインアッププロセス

* 個人用アプリを使用すると、ユーザーは他のチーム メンバーと個人用アプリ エクスペリエンスのコンテンツを共有できます。

### <a name="9989-provide-a-clear-and-simple-sign-in-sign-out-and-sign-up-experience"></a>&#9989;明確でシンプルなサインイン、サインアウト、サインアップのエクスペリエンスを提供する

* アプリまたはアドインが外部アカウントまたはサービスに依存している場合、アプリのすべての機能でサインイン、サインアウト、サインアップのエクスペリエンスが明らかでアクセス可能である必要があります。
* ユーザーに明示的なサインイン オプションが提供されている場合は、対応するサインアウト オプションが必要です (アプリが [サイレント認証](../../../../tabs/how-to/authentication/auth-silent-aad.md)を使用している場合でも)。
* サインアウト オプションは、ユーザーをアプリの機能から外すだけで、Teams クライアントからはサインアウトしないようにする必要があります。
* 少なくとも、サインアウト オプションは、サインイン オプションでアクセスされるのと同じ機能からユーザーをサインアウトする必要があります。 たとえば、サインイン オプションにメッセージング拡張機能とタブの両方が含まれている場合、サインアウト オプションにはメッセージング拡張機能とタブの両方が含まれている必要があります。

* 次の (または類似の) 動作を元に戻す方法が常に存在することを確認します。
  * サインイン =>サインアウト。
  * アカウント/サービスをリンク = アカウント/サービスのリンクを解除>。
  * アカウント/サービス = をConnect>アカウント/サービスを切断します。
  * アカウント/サービスを承認する = アカウント/サービスの承認を解除>/拒否します。
  * アカウント/サービス = アカウント/サービスの登録解除/登録解除>登録します。
* アプリにアカウントまたはサービスが必要な場合は、ユーザーがサインアップまたはサインアップ要求を作成する方法を提供する必要があります。 アプリで使用するライセンスが必要な場合は、例外が認められる場合があります。 このようなシナリオでは、新しいユーザーがサインアップするための明確な指示を提供します。
* アプリ サービスを使用するためにサインアップする方法について、新しいユーザーに向かう途中で明確なガイダンスを提供します。 サインアップ可能なリンクが利用できない場合は、次の領域で正確なガイダンスを提供します。

> [!div class="checklist"]
>
> * アプリの説明セクション内で
> * アプリのウェルカム メッセージに含まれます。
> * は、アプリのヘルプ メッセージに表示されます。
> * サービスへのサインインをユーザーに求めるウィンドウで、

* 簡単なサインアップ フローがないアプリには、ヘルプ タブや Web ページへのリンクも含める必要 Teamsがあります。 アプリを初めて試すときに新しいユーザーがブロックされないように、詳細情報を提供します。
* モバイル クライアントでは、サインインとサインアウト機能が動作する必要があります。 [Microsoft Teams SDK](https://www.npmjs.com/package/@microsoft/teams-js)バージョン 1.4.1 以降を使用するようにしてください。

認証の詳細については、次を参照してください。

* [認証ドキュメント](../../../authentication/authentication.md)
* [ノードのボット認証サンプル](https://github.com/OfficeDev/microsoft-teams-sample-auth-node)
* [ノードのタブ認証サンプル](https://github.com/OfficeDev/microsoft-teams-sample-complete-node)
* [C#/.NET でのタブ/ボット認証](https://github.com/OfficeDev/microsoft-teams-sample-complete-csharp)

### <a name="9989-response-times-must-be-reasonable"></a>&#9989; 応答時間は妥当である必要があります

* **タブ**。 アクションに対する応答が 3 秒を超える場合は、読み込みメッセージまたは警告を指定する必要があります。
* **ボット .** ユーザー・コマンドに対する応答は、2 秒以内に行う必要があります。 処理が長い場合は、アプリに入力インジケータを表示する必要があります。
* **拡張機能を作成** する : ユーザー・コマンドに対する応答は、5 秒以内に行う必要があります。

> [!TIP]
> アプリが応答に予想以上に時間がかかっているときに、読み込みインジケーターまたは何らかの形の警告がアプリに表示されていることを確認します。

### <a name="9989-tab-content-must-not-have-excessive-chrome-or-layered-navigation"></a>タブのコンテンツ&#9989;過剰なクロムまたは階層化されたナビゲーションを使用できません

* タブは、フォーカスされたコンテンツを提供し、不必要な UI 要素を避ける必要があります。 通常、これは、不要なネストナビゲーションやレイヤーナビゲーション、コンテンツの横にある無関係または無関係な UI、またはユーザーが関連性のないコンテンツにアクセスするリンクを指します。 たとえば、次のタブ ビューでは、ナビゲーション メニューは省略され、メイン コンテンツのみが表示されます。

![SharePointウェブビュー](../../../../assets/images/faq/web-sp.png)  
![SharePointタブビュー](../../../../assets/images/faq/tab-sp.png)

* タブは、自然界の明るいものであり、複雑なナビゲーションを含む必要はありません。
* アプリ内で複雑な編集機能を持つチャンネル タブは、タブではなくマルチウィンドウでエディター ビューを開く必要があります。
* チャネル タブは、メイン Teams ナビゲーションと競合するアイコンを左側のレールに含むアプリ バーを提供しないでください。
* タブは、メインTeamsナビゲーションと競合する左レールにアイコンを持つアプリ バーを表示しないでください。
* アプリ内で複雑な編集機能を持つタブは、タブではなくマルチウィンドウでエディター ビューを開く必要があります。
* 複数の表示オプションがある場合は、ユーザーが選択できるタブ設定メニューを用意することを検討してください。 たとえば、メニューをタブ内に埋め込む代わりに、メニューを構成ページに配置して、実際のタブ ビューがクリーンでフォーカスされるようにします。
* アプリの構成、サインアップ、および使用方法をユーザーに知らせるための静的タブとして *[ヘルプ* ] タブを含めてください。
* アプリヘッダーから利用可能な *設定* タブを含めてください。

![ワイドアイデア設定ページ](../../../../assets/images/faq/wideidea.png)

### <a name="9989-tab-configuration-must-happen-in-the-configuration-screen"></a>&#9989;タブ構成は構成画面で行う必要があります

* 構成画面では、エクスペリエンスの価値とタブの構成方法を明確に説明する必要があります。
* 構成プロセスは、ユーザーエクスペリエンスを終了せず、ユーザーが続行するための方法を常に提供する必要があります。 たとえば、ユーザーがタブを設定した後は空のボードを表示しないでください。
* ユーザーのサインイン プロセスは、構成プロセスの一部である必要があります。 タブ UI で完了するようにします。 ユーザーが構成を完了し、タブを読み込んだ後は、それ以上の操作は必要ありません。
* サインイン構成のポップアップ ウィンドウ内に Web ページ全体を表示しないでください。
* ユーザーは、探しているコンテンツがすぐに見つからない場合でも、常に構成エクスペリエンスを完了できる必要があります。
* 構成エクスペリエンスでは、ユーザーがコンテンツを検索したり、URL を固定したり、存在しない場合は新しいコンテンツを作成したりするためのオプションを提供する必要があります。
* 構成エクスペリエンスは、Teams コンテキスト内に残る必要があります。 ユーザーは、コンテンツを作成し、ピン留めするTeamsに戻る構成エクスペリエンスを離れる必要はありません。
* 使用可能なビューポート領域を効率的に使用します。 構成ポップアップ内の巨大なロゴを使用してそれを無駄にしないでください。

![OneNote、メモが見つからない場合にOneNoteリンクを貼り付けることができます](../../../../assets/images/faq/tab-onenote-config.png)

![ユーザーは、既存のプランがない場合に、プランナーでいつでも新しいプランを作成できます](../../../../assets/images/faq/tab-planner-config.png)

![SharePointは、ユーザーが直接SharePointリンクを貼り付けることもできます](../../../../assets/images/faq/tab-sp-config.png)

### <a name="9989-tabs-in-channel---member-access"></a>チャネルの&#9989;タブ - メンバー アクセス

* チャネル スコープ内のメンバーによって構成されたタブは、そのタブを構成したメンバーからアクセス許可を求めなくても、他のメンバーがアクセスできる必要があります。
* タブがプライベートまたは制限付きの使用用である場合、またはタブを構成したメンバーからのアクセス許可が必要な場合は、アプリがアクセス許可管理オプションを事前に提供する必要があります。

### <a name="9989-bots-must-always-be-responsive-and-fail-gracefully"></a>&#9989;ボットは常に応答性を持ち、正常に失敗する必要があります

ボットは、ユーザーのデッドエンドではなく、任意のコマンドに応答する必要があります。 ボットがユーザーにインテリジェントに応答するためのヒントを次に示します。

* **コマンド リストを使用** する : ユーザー入力の分析やユーザーの意図の予測は困難です。 ボットでできることをユーザーに推測させる代わりに、ボットが理解できるコマンドのリストを提供します。

![Flowコマンド一覧](../../../../assets/images/faq/flow-bot.png)

* **ヘルプ コマンドを含める**。 ユーザーが紛失したときや、ボットが期待どおりに応答しない場合は、「ヘルプ」と入力する可能性があります。 アプリの値がどのように表示されるか、すべての有効なコマンドを示すヘルプ コマンドを含めます。

![Flowヘルプ コマンド](../../../../assets/images/faq/flow-help.png)

* **ボットが失われた場合のヘルプ コンテンツやガイダンスを含める**。 ボットがユーザー入力を理解できない場合は、別のアクションを提案する必要があります。 例えば *、「ごめんなさい、分かりません。詳細については「ヘルプ」と入力してください。* エラーメッセージや *単に「私は理解していない」* で応答しないでください。

### <a name="9989-help-command-response"></a>ヘルプ コマンドの応答を&#9989;する

* ヘルプ コマンドは正確で、アプリの応答は、少なくとも 6 つのコマンドのアクション可能なコンテンツを持つアダプティブ カード形式である必要があります。
* アプリのコマンドが 6 つ未満の場合は、アダプティブ カードにすべてのコマンドが存在するかどうか確認します。

  ![ヘルプ コマンドのサンプル](../../../../assets/images/faq/helpcommand.png)

* **アダプティブ カードとタスク モジュールを使用して、ボットの応答を明確かつ操作可能にする** 
[タスクモジュールを呼び出すボタンを持つアダプティブカード](/task-modules-and-cards/task-modules/task-modules-bots.md)は、ボットのユーザーエクスペリエンスを向上させます。 これらのカードやボタンは、ユーザーがコマンドを入力するのではなく、モバイル デバイスで使いやすいものです。 また、ボットの応答は、テキストに長いテキストを使用してはなりません。 ボットは、会話型チャットベースのユーザーインターフェイスや長いテキスト応答の代わりに、アダプティブ カードとタスク モジュールを利用する必要があります。

* **すべてのスコープを考えてみてください**。 `@*botname*`チャネルや個人的な会話で言及されている場合は、ボットが適切な応答を提供していることを確認してください。 ボットが個人またはチームのスコープ内で意味のあるコンテキストを提供しない場合は、マニフェストを使用してそのスコープを無効にします。 (マニフェスト `bots` [スキーマの参照](../../../../resources/schema/manifest-schema.md#bots)Microsoft Teamsのブロックを参照してください。

* **チーム、グループチャット、または 1:1 会話を含める**。 ボット通知には、チーム、グループ チャット、または対象ユーザーに関連するコンテンツを含む 1 対 1 の会話を含める必要があります。

* **機密データをプッシュしない**: ボットは、機密データをチーム、グループ チャット、または 1:1 の会話にプッシュしてはなりません。

* **ウェルカム メッセージを提供** する : ボットは、エンゲージメントを促進するために、カルーセルカードまたは「試してみる」ボタンを備えたインタラクティブなチュートリアルを含むFRE歓迎メッセージを提供する必要があります。

### <a name="9989-personal-bots-must-always-send-a-welcome-message-on-first-launch"></a>&#9989; 個人ボットは、最初の起動時に常にウェルカム メッセージを送信する必要があります。

ウェルカムメッセージは、あなたの個人的なチャットボットのトーンを設定するための最良の方法です。 これは、ユーザーがボットとやり取りする最初の操作です。 良い歓迎メッセージは、アプリを探索し続けるためにユーザーを促すことができます。 ウェルカムメッセージや入門メッセージが混乱したり不明瞭な場合、ユーザーはすぐにアプリの価値を見ることはなく、関心を失います。
ウェルカム メッセージの要件については、次のセクションを参照してください。

> [!Note]
> チャネル ボットの場合、ウェルカム メッセージはオプションです。

### <a name="welcome-message-requirements"></a>ウェルカム メッセージの要件

* ウェルカムツアーにバリュープロポジションを含めます。
* アプリを使用するための方法ガイダンスを提供します。
* アプリのサインアップと構成方法に関するガイダンスを含めます。
* 読みやすいテキストと簡単な対話を提示する - 好ましくは、タスクモジュールをロードするアクション可能なウェルカムツアーボタンを持つカード。
* ボタンやカードでシンプルで使いやすく保つ - 長いテキスト、おしゃべりな対話を避けてください。
* アダプティブ カードとボタンを含め、ウェルカム メッセージをより使いやすくします。
* 2 回以上の同時 ping ではなく、1 回の ping でウェルカム メッセージを呼び出します。
* ウェルカム メッセージは、アプリを構成したユーザーにのみ表示する必要があります。
* 個人用アプリは、常にユーザーにウェルカム メッセージを提供する必要があります。
* チームのすべてのメンバーに個人的なチャットを送信しないでください。スパムと見なされます。
* 歓迎メッセージを複数回送信しないでください。 同じウェルカム メッセージを定期的に繰り返すのは許可されておらず、スパムと見なされます。

#### <a name="avoid-welcome-message-spamming"></a>ウェルカム メッセージのスパムを避ける

* **ボットによるチャネル メッセージ**。 別の新しいチャット投稿を作成してユーザーにスパムを送信しないでください。 同じスレッド内に返信を含む単一スレッドの投稿を作成します。
* **ボットによる個人的なチャット**. 複数のメッセージを送信しないでください。 完全な情報を含む 1 つのメッセージを送信します。 同じウェルカム メッセージを定期的に繰り返すのは許可されておらず、スパムと見なされます。

#### <a name="notification-only-bot-welcome-messages"></a>通知のみのボットウェルカム メッセージ

通知のみのボットは *、「私は通知専用のボットであり、チャットに返信することはできません」というメッセージを* 含むウェルカムメッセージを送信する必要があります。

#### <a name="welcome-messages-in-the-personal-scope"></a>個人用スコープ内のウェルカム メッセージ

   * **メッセージを簡潔かつ有益なものにする**。 ユーザー エクスペリエンスとアプリの知識は異なります。 ユーザーが別のプラットフォームでアプリを使用した場合や、アプリについて何も知らない場合があります。 すべての対象ユーザーにメッセージを調整し、いくつかの文でボットの機能と対話方法を説明します。 また、アプリの価値と、ユーザーがそれを使用してどのように利益を得られるかを説明する必要があります。
![カフェとダイニングボット](../../../../assets/images/faq/cafe-bot.png)

* **メッセージをアクション可能にする**: アプリをインストールした後にユーザーに最初に行う操作について考えます。 彼らが試してみる必要があるクールなコマンドはありますか? 彼らが知っておかなければならない別のオンボーディング体験はありますか? サインインする必要がありますか。 アダプティブ カードにアクションを追加したり *、「尋ねてみてください..」* などの具体的な例を提供 *したりできます。*

#### <a name="welcome-messages-in-the-team-or-channel--scope"></a>チームまたはチャネル スコープ内のウェルカム メッセージ

ボットが最初にチャンネルに追加されたとき、状況は少し異なります。 通常、チーム全員に 1:1 メッセージを送信すべきではありませんが、ボットはチャネルでウェルカム メッセージを送信できます。

### <a name="9989-mobile-responsiveness-no-direct-upsell-or-payment"></a>&#9989;モバイルの応答性、直接アップセルや支払いなし

* タスクモジュールのタブ、アダプティブカード、ボットメッセージ、コンテンツは、さまざまなモバイルデバイス画面サイズに対応する必要があります。
* iOS をサポートするアプリは、最新バージョンの iOS を使用して、最新のiPadデバイスで完全に機能している必要があります。
* アプリ内購入、試用版、有料版のオファー、またはユーザーがモバイル OS (Android、iOS) でTeams アプリから他のコンテンツ、アプリ、アドインを購入または取得できるオンライン ストアへのリンクへの直接の参照を含めてはいけません。
* iOS または Android 版のアドインでは、ユーザーに支払いを求める他のアプリ、アドイン、または Web サイトへの UI や言語、リンクを表示することはできません。
* 関連するプライバシー ポリシーおよび利用規約ページには、コマース UI またはストア リンクを含まないものも必要です。

### <a name="9989-do-not-post-sensitive-data-to-an-audience-not-intended-to-view-the-data"></a>&#9989; 機密データを表示する意図のないユーザーに投稿しない

Teamsアプリは、クレジット カードや金融決済手段、個人を特定できる情報 (PIN)、正常性、連絡先の追跡情報などの機密データを、そのデータを表示する意図のないユーザーに投稿しないでください。

### <a name="9989-do-not-transmit-financial-payment-details-or-complete-financial-transactions-via-your-teams-app"></a>&#9989; Teamsアプリを介して、金融決済の詳細を送信したり、金融取引を完了したりしないでください

* Teamsアプリは、ユーザーに対して、インターフェイス内で直接支払いを行うことを求めないようにTeams。
* アプリは、アプリインターフェイス上のユーザーを介して金融商品の詳細を送信することはできません。 アプリは、ユーザーがアプリの使用に同意する前に、アプリの利用規約、プライバシーポリシー、およびアプリのプロフィールページまたはウェブサイトで開示された場合にのみ、ユーザーに安全な支払いサービスへのリンクを送信することができます。

### <a name="9989-clear-warning-before-downloading-any-files-or-executable-exe-into-a-users-environment"></a>&#9989; ファイルまたは実行可能ファイル ( ) `.exe` をユーザーの環境にダウンロードする前に警告をクリアする

アプリがファイルまたは実行可能ファイル ( `.exe`  ) をユーザーのマシンまたは環境にダウンロードする前に、ユーザーに警告してください。

### <a name="9989-messaging-extensions-must-provide-help-text-and-be-easy-to-read"></a>&#9989; メッセージング拡張機能はヘルプ テキストを提供し、読みやすいものでなければなりません

* 検索ベースのメッセージング拡張機能は、効果的に検索する方法に関するヘルプ テキストを提供する必要があります (例えば、入力例を示す)。
* タスク モジュールには、アイコンと、アプリに含まれている、またはアプリから作成された短い名前を含める必要があります。
* メッセージ拡張子 `@mention` の実行可能ファイルは、明確でわかりやすい、読みやすい形式でなければなりません。
![メッセージの拡張子](../../../../assets/images/faq/message-extension.png)

## <a name="m365-publisher-attestation"></a>M365 Publisher構成証明

### <a name="9989-complete-the-publisher-attestation-in-partner-center"></a>&#9989;パートナー センターでPublisher構成証明を完了する

* 詳細については、[完全Publisher構成証明](/microsoft-365-app-certification/docs/attestation)プログラムのドキュメントを参照してください。
* [「Publisher構成証明ワークフロー](/microsoft-365-app-certification/docs/userguide#3publisher-attestation-workflow) 」セクションの手順に従って、発行者の構成証明プロセスを完了します。 質問があれば appcert@microsoft.com に書いてください。
* 詳細については、 [トラブルシューティング ガイド](/azure/active-directory/develop/troubleshoot-publisher-verification) を参照してください。
* パートナー センターを通じて自己証明を完了します。 **[アプリ** コンプライアンス] の下のSelf-Assessmentアンケートに記入します。

## <a name="see-also"></a>関連項目

* [アプリ承認ポリシーのTeamsの詳細](/legal/marketplace/certification-policies#1140-teams)
* [セクション 100 — 一般](/legal/marketplace/certification-policies#100-general)
* [セクション 1100.5 — 顧客コントロール](/legal/marketplace/certification-policies#11005-customer-control)
